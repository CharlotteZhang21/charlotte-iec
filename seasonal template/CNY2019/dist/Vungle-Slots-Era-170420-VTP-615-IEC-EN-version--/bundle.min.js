!function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var u="function"==typeof require&&require;if(!s&&u)return u(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return a(n||e)},c,c.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({coin_burst_01:[{img:"logo.png"},{img:"cta.png"}],coin_cascade_05:[{img:"logo2.png"}]},"coin_cascade_05",[{img:"spin_button.png"},{img:"symbols.png"}])},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./pieces.js"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);n.default={pieces:a.default}},{"./pieces.js":3}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={frames:{blue:{frame:{x:152,y:1,w:151,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:151,h:161},sourceSize:{w:151,h:161}},blue_p:{frame:{x:156,y:164,w:151,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:151,h:161},sourceSize:{w:151,h:161}},donut:{frame:{x:609,y:164,w:181,h:149},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:181,h:149},sourceSize:{w:181,h:149}},green:{frame:{x:460,y:327,w:149,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:149,h:161},sourceSize:{w:149,h:161}},macaron:{frame:{x:610,y:1,w:148,h:155},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:148,h:155},sourceSize:{w:148,h:155}},marshmallow:{frame:{x:305,y:1,w:151,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:151,h:161},sourceSize:{w:151,h:161}},orange:{frame:{x:156,y:327,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},orange_p:{frame:{x:308,y:327,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},popcorn:{frame:{x:461,y:164,w:146,h:161},rotated:!1,trimmed:!0,spriteSourceSize:{x:2,y:0,w:146,h:161},sourceSize:{w:151,h:161}},pudding:{frame:{x:611,y:315,w:159,h:153},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:153},sourceSize:{w:159,h:153}},purple:{frame:{x:1,y:165,w:153,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:153,h:161},sourceSize:{w:153,h:161}},purple_p:{frame:{x:1,y:328,w:153,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:153,h:161},sourceSize:{w:153,h:161}},red:{frame:{x:309,y:164,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},red_p:{frame:{x:458,y:1,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},yellow:{frame:{x:1,y:1,w:149,h:162},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:149,h:162},sourceSize:{w:149,h:162}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"tiles.png",format:"RGBA8888",size:{w:791,h:490},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:a52266418105fd394661db76f76d6094:5da80af01517e173c5b36dd3086b03ba:accbe1e7e294ded8391337fc1c446319$"}}},{}],4:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=e("./states/boot"),o=i(a),r=e("./states/endcard"),s=i(r),u=e("./states/preloader"),l=i(u),c=new Phaser.Game(document.body.clientWidth*window.devicePixelRatio,document.body.clientHeight*window.devicePixelRatio,Phaser.CANVAS,"game",null,!0);c.state.add("boot",new o.default),c.state.add("endcard",new s.default),c.state.add("preloader",new l.default),c.state.start("boot")},{"./states/boot":12,"./states/endcard":13,"./states/preloader":14}],5:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.audios=[]}return a(e,[{key:"play",value:function(e,t,n){null==this.audios[e]&&(this.audios[e]=new Audio(t)),this.initAudioArgs(e,n),this.audios[e].play(),void 0!==n&&void 0!==n.volume&&(this.audios[e].volume=n.volume)}},{key:"fadeOut",value:function(e){if(null!=this.audios[e])var t=this.audios[e],n=this,i=setInterval(function(){t.volume-.1>0?t.volume-=.1:(clearInterval(i),n.mute(t))},200)}},{key:"pause",value:function(e){null!=this.audios[e]&&this.audios[e].pause()}},{key:"mute",value:function(e){null!=this.audios[e]&&(this.audios[e].muted=!0)}},{key:"muteAll",value:function(){for(var e in this.audios)this.audios.hasOwnProperty(e)&&(this.audios[e].pause(),this.audios[e].muted=!0)}},{key:"unmuteAll",value:function(){for(var e in this.audios)this.audios.hasOwnProperty(e)&&(this.audios[e].muted=!1)}},{key:"initAudioArgs",value:function(e,t){this.audios[e].muted=!1,this.audios[e].autoplay=!0,void 0!==t&&void 0!==t.loop&&"boolean"==typeof t.loop&&(this.audios[e].loop=t.loop)}}]),e}();n.default=o},{}],6:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("../utils/container-util"),l=i(u),c=e("../utils/util"),h=i(c),d=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createSky(),n}return r(t,e),s(t,[{key:"createSky",value:function(){this.sky=new Phaser.Sprite(this.game,0,0,"bg"),this.add(this.sky),h.isPortrait(this.game)?l.fitInContainerHeight(this.sky,"sky",.5,.5):l.fitInContainer(this.sky,"sky",.5,.4)}},{key:"createGround",value:function(){this.ground=new Phaser.Sprite(this.game,0,0,"ground"),this.add(this.ground),l.fitInContainerHeight(this.ground,"ground",.5,.5)}},{key:"show",value:function(){this.game.add.tween(this).to({alpha:this.finalAlpha},500,Phaser.Easing.Sinusoidal.In,!0,200)}},{key:"hide",value:function(){if(this.alpha>0){this.game.add.tween(this).to({alpha:0},300,Phaser.Easing.Quadratic.In,!0,0)}}}]),t}(Phaser.Group);n.default=d},{"../utils/container-util":16,"../utils/util":18}],7:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("../utils/container-util"),l=i(u),c=e("../utils/animations-util"),h=i(c),d=e("../utils/util"),f=i(d),g=function(e){function t(e,n){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.createBackground(),i.createForeground(),i.createShadow(),i.createContents(),i.audio=n,i.foreground.bringToTop(),i.stars=[],i}return r(t,e),s(t,[{key:"createLid",value:function(){this.lid=new Phaser.Sprite(this.game,0,0,"lid"),this.add(this.lid),this.lid.anchor.set(.5,1),this.lid.y=0}},{key:"createForeground",value:function(){this.foreground=new Phaser.Sprite(this.game,0,0,"box"),this.add(this.foreground),this.foreground.anchor.set(.5,1),this.foreground.y=this.y,this.foregroundAnimation=new Phaser.Sprite(this.game,0,0,"box-animation"),this.add(this.foregroundAnimation),this.foregroundAnimation.anchor.set(.5,1),this.foregroundAnimation.scale.x=this.foreground.width/this.foregroundAnimation.width*this.foregroundAnimation.scale.x,this.foregroundAnimation.scale.y=this.foregroundAnimation.scale.x,this.foreground.y=this.y,this.foregroundAnimation.alpha=0}},{key:"createBackground",value:function(){this.background=new Phaser.Sprite(this.game,0,0,"boxBg"),this.add(this.background),this.background.anchor.set(.5,1),this.background.y=this.y}},{key:"createShadow",value:function(){this.shadow=new Phaser.Sprite(this.game,0,0,"shadow"),this.add(this.shadow),this.shadow.alpha=.5,this.shadow.anchor.set(.5,1),this.scale.x=.5,this.scale.y=this.scale.x,this.shadow.y=this.y,this.sendToBack(this.shadow)}},{key:"open",value:function(){var e={x:this.lid.x,y:this.lid.y},t=this.lid.scale.x;this.game.add.tween(this.lid.scale).to({x:[1.05*t,.95*t],y:[.95*t,.95*t]},500,Phaser.Easing.Quadratic.In,!0,100),this.game.add.tween(this.lid).to({x:[e.x,e.x-100],y:[e.y+10,e.y-700],angle:[0,-45]},700,Phaser.Easing.Quadratic.In,!0,100).onComplete.add(function(){this.revealContent(500)},this);var n=this.foreground.scale.x,i=this.foreground.y;this.game.add.tween(this.foreground.scale).to({x:[1.05*n,n],y:[.95*n,n]},500,Phaser.Easing.Quadratic.In,!0,100),this.game.add.tween(this.foreground).to({y:[i+10,i-50]},600,Phaser.Easing.Quadratic.In,!0,100),this.game.add.tween(this.background).to({y:[i+10,i-88]},600,Phaser.Easing.Quadratic.In,!0,100),this.game.add.tween(this.shadow).to({y:[this.foreground.y+20]},600,Phaser.Easing.Quadratic.In,!0,100)}},{key:"createContents",value:function(){var e="content-portrait";this.game.global.windowWidth>this.game.global.windowHeight&&(e="content-landscape"),this.contents=new Phaser.Sprite(this.game,0,0,e),this.contents.anchor.set(.5),this.game.add.existing(this.contents),l.fitInContainerHeight(this.contents,"contents",.5,.5),this.contentsScale=this.contents.scale.y,this.contentsY=this.contents.y,this.contents.alpha=0,this.contentsReplace=new Phaser.Sprite(this.game,0,0,e),this.contentsReplace.anchor.set(.5),this.add(this.contentsReplace),this.contentsReplace.y=this.foreground.y-this.foreground.height/2,this.contentsReplaceScale=l.getContainerHeight("gift")/this.contentsReplace.height,this.contentsReplaceY=l.getYCenterWithinContainer("contents")-l.getYCenterWithinContainer("gift"),this.contentsReplace.scale.x=0,this.contentsReplace.scale.y=0,this.contentsReplace.angle=-45}},{key:"animateBox",value:function(e){"replace"==e?(this.game.add.tween(this.foreground).to({alpha:0},10,Phaser.Easing.Linear.None,!0,0),this.game.add.tween(this.foregroundAnimation).to({alpha:1},10,Phaser.Easing.Linear.None,!0,0)):(this.game.add.tween(this.foregroundAnimation).to({alpha:0},10,Phaser.Easing.Linear.None,!0,0),this.game.add.tween(this.foreground).to({alpha:1},10,Phaser.Easing.Linear.None,!0,0))}},{key:"dropCoins",value:function(e){var t=1==e?PiecSettings.assetsDir+"coin-falling.wav":PiecSettings.assetsDir+"many-coins-falling.mp3",n=1==e?"coin-falling":"many-coins-falling",i={loop:!1};1==e?(this.audio.play("whooshe",PiecSettings.assetsDir+"Whooshes_27.wav",{loop:!1}),this.game.time.events.add(1e3,function(){this.audio.mute("whooshe"),this.audio.play(n,t,i)},this)):(this.audio.play(n,t,i),this.game.time.events.add(4e3,function(){this.audio.mute(n)},this));for(var a=0;a<e;a++){var o="coin";e>2&&Math.random()>.6&&(o="star_particle");var r=new Phaser.Sprite(this.game,0,0,o);this.add(r),this.stars.push(r),r.anchor.set(.5),r.y=-this.foreground.height/2*1.5;var s=r.scale.x,u=r.y,l=r.x,c=.5;this.game.global.windowWidth>this.game.global.windowHeight&&(c=.8);var d=this.foreground.width*c*(Math.random()>.5?1:-1)*Math.random(),g=l+.5*d*(Math.random()+1),p=l+2*d*(Math.random()+.5),m=2.5;this.game.global.windowWidth>this.game.global.windowHeight&&(m=2.6);var y=u-(1-.5*Math.random())*this.foreground.height*m,w=s,v=this.y,b=30*a,P=(v-y)/100*100;r.angle=90;var x=180+360*Math.random();h.coinDropwithDelayCuston(this.game,r,g,y,p,v,w,P,b,x,f.getEasing("QuadraticOut"),f.getEasing("QuadraticIn")),this.foreground.bringToTop(),this.foregroundAnimation.bringToTop()}}},{key:"revealContent",value:function(e){var t=e,n=e;this.game.add.tween(this.contentsReplace.scale).to({x:.07*this.contentsReplaceScale,y:.07*this.contentsReplaceScale},50,Phaser.Easing.Linear.InOut,!0,0),this.game.add.tween(this.contentsReplace).to({y:[this.contentsReplaceY]},t,Phaser.Easing.Linear.None,!0,0).onComplete.add(function(){this.contents.y=this.contentsReplace.world.y;var e=.8*this.contents.y;this.contents.angle=-45,this.contents.scale.y=this.contentsReplace.height/this.contents.height,this.contents.scale.x=this.contents.scale.y,this.contents.alpha=1,this.contentsReplace.alpha=0,this.game.add.tween(this.contents.scale).to({x:this.contentsScale,y:this.contentsScale},n,Phaser.Easing.Quadratic.InOut,!0,0),this.game.add.tween(this.contents).to({y:e},200,Phaser.Easing.Linear.None,!0,0).onComplete.add(function(){this.game.add.tween(this.contents).to({y:this.contentsY},n,Phaser.Easing.Linear.InOut,!0,0)},this),this.game.add.tween(this.contents).to({angle:[0]},n,Phaser.Easing.Linear.InOut,!0,0).onComplete.add(function(){this.game.add.tween(this.contents).to({angle:[.5,0],y:[this.contentsY+10,this.contentsY]},1e3,Phaser.Easing.Linear.InOut,!0,0),this.game.time.events.loop(800,function(){var e=new Phaser.Sprite(this.game,0,0,"spark_particle");this.game.add.existing(e);var t=l.getRandomXWithinContainer("contents"),n=l.getRandomYWithinContainer("contents");l.fitInContainer(e,"star-container",.5,.5),e.x=t,e.y=n;var i=e.scale.x;e.alpha=0,e.scale.x=0,e.scale.y=0,this.game.add.tween(e.scale).to({x:i,y:i},800,Phaser.Easing.Linear.None,!0,0),this.game.add.tween(e).to({alpha:[1,0],angle:90},800,Phaser.Easing.Linear.None,!0,0).onComplete.add(function(){e.destroy()},this)},this)},this)},this)}},{key:"bringAllStarsToTop",value:function(){for(var e=0;e<this.stars.length;e++)this.stars[e].bringToTop()}},{key:"spawnStars",value:function(){for(var e=0;e<150;e++){var t=1,n=Math.random()>.7?"spark-particle":"star-particle";"spark-particle"==n&&(t=.6);var i=new Phaser.Sprite(this.game,0,0,n);this.add(i),this.stars.push(i),i.anchor.set(.5),this.game.global.windowWidth>this.game.global.windowHeight?(i.scale.x=this.foreground.width/i.width*(.2*Math.random())*t,i.scale.y=i.scale.x):(i.scale.x=this.foreground.width/i.width*(.3*Math.random())*t,i.scale.y=i.scale.x),i.x=this.foreground.x-this.foreground.width/3+this.foreground.width/2*Math.random(),i.y=this.foreground.y-this.foreground.height/3*2.5,i.angle=45*Math.random(),i.alpha=0;var a=i.scale.x,o=i.y,r=i.x,s=.8;this.game.global.windowWidth>this.game.global.windowHeight&&(s=.5);var u=r+this.foreground.width*s*(Math.random()>.5?1:-1),l=5;this.game.global.windowWidth>this.game.global.windowHeight&&(l=3);var c=o-Math.random()*this.foreground.height*l,d=a*Math.random(),f=5*e,g=1200*Math.random()+2e3;h.starFloatWithDelayCustom2(this.game,i,u,c,d,g,f,Phaser.Easing.Quadratic.Out),this.foreground.bringToTop()}}}]),t}(Phaser.Group);n.default=g},{"../utils/animations-util":15,"../utils/container-util":16,"../utils/util":18}],8:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("../utils/container-util"),l=i(u),c=e("../utils/animations-util"),h=(i(c),e("../utils/custom-png-sequences-renderer.js")),d=(i(h),function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.button=new Phaser.Sprite(n.game,0,0,"cta"),l.fitInContainer(n.button,"cta-container",.5,.5),n.button.inputEnabled=!0,n.button.input.useHandCursor=!0,n.button.events.onInputDown.add(function(){parent.postMessage("download","*")}),n.add(n.button);n.button.y;return n.button.y=n.game.global.windowHeight*window.devicePixelRatio+1.5*n.button.height,n}return r(t,e),s(t,[{key:"moveUp",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.game.add.tween(this.button).to({x:l.getXCenterWithinContainer(e),y:l.getYCenterWithinContainer(e)},1e3,Phaser.Easing.Quadratic.InOut,!0,0);t&&n.onComplete.add(function(){var e=this.button.scale.x;this.game.add.tween(this.button.scale).to({x:1.11*e,y:1.07*e},700,Phaser.Easing.Quadratic.InOut,!0,0).loop().yoyo(!0)},this)}}]),t}(Phaser.Group));n.default=d},{"../utils/animations-util":15,"../utils/container-util":16,"../utils/custom-png-sequences-renderer.js":17}],9:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.graphics=e.add.graphics(0,0),null!=PiecSettings.finalOverlay&&null!=PiecSettings.finalOverlay.color?n.graphics.beginFill(PiecSettings.finalOverlay.color,1):n.graphics.beginFill(0,1),n.graphics.drawRect(0,0,n.game.global.windowWidth*window.devicePixelRatio,n.game.global.windowHeight*window.devicePixelRatio),n.add(n.graphics),null!=PiecSettings.finalOverlay&&null!=PiecSettings.finalOverlay.alpha?n.finalAlpha=PiecSettings.finalOverlay.alpha:n.finalAlpha=.4,n.alpha=n.finalAlpha,n.alpha=0,n}return o(t,e),r(t,[{key:"show",value:function(){this.game.add.tween(this).to({alpha:this.finalAlpha},500,Phaser.Easing.Sinusoidal.In,!0,200)}},{key:"hide",value:function(){if(this.alpha>0){this.game.add.tween(this).to({alpha:0},300,Phaser.Easing.Quadratic.In,!0,0)}}}]),t}(Phaser.Group);n.default=s},{}],10:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../utils/container-util"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),l=function(e){function t(e,n){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.logo=new Phaser.Sprite(o.game,0,0,"logo"),o.logo.anchor.set(.5,.5),o.add(o.logo),u.fitInContainerAnchorAtCenter(o.logo,"logo"),o}return o(t,e),r(t,[{key:"animate",value:function(){if(this.alpha=1,this.game.global.windowHeight>this.game.global.windowWidth){this.logo.scale.x=.01,this.logo.scale.y=.01;this.game.add.tween(this.logo.scale).to({x:this.initialLogoScale,y:this.initialLogoScale},700,Phaser.Easing.Back.Out,!0,400)}this.logo.angle=0}}]),t}(Phaser.Group);n.default=l},{"../utils/container-util":16}],11:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("../utils/util"),l=(i(u),e("../utils/container-util")),c=i(l),h=e("../utils/animations-util"),d=(i(h),e("../utils/custom-png-sequences-renderer.js")),f=i(d),g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMessage(),n}return r(t,e),s(t,[{key:"showMessage",value:function(){this.message=new Phaser.Sprite(this.game,0,0,"message"),this.add(this.message),c.fitInContainer(this.message,"message",.5,.5);var e=this.message.scale.x,t=this.message.y,n=this.message.height;this.message.scale.x=.01,this.message.scale.y=.01,this.game.add.tween(this.message.scale).to({x:e,y:e},300,Phaser.Easing.Quadratic.In,!0,0).onComplete.add(function(){this.game.add.tween(this.message.scale).to({x:[1.3*e,.7*e,e],y:[.7*e,1.3*e,e]},600,Phaser.Easing.Quadratic.InOut,!0,0).onComplete.add(function(){this.game.add.tween(this.message.scale).to({x:.01,y:.01},500,Phaser.Easing.Back.In,!0,500),this.game.add.tween(this.message).to({y:t-1.5*n},500,Phaser.Easing.Back.In,!0,500)},this)},this)}},{key:"createFirework",value:function(e,t){for(var n=[],i=0;i<t.length;i++){var a=t[i],o=new Phaser.Sprite(this.game,0,0,e);o.anchor.set(.5),c.fitInContainerAnchorAtCenter(o,a),-1!=a.indexOf("right")&&(o.scale.x*=-1),n.push(o),this.add(o)}return n}},{key:"animateFireworks",value:function(e,t,n,i){var a=e.x,o=e.width,r=e.y,s=e.height,u=e.scale.x,l=e.scale.y;e.alpha=.8;var c=e.alpha;e.scale.x=.001,e.scale.y=.001,this.game.add.tween(e.scale).to({x:u,y:l},300,Phaser.Easing.Back.Out,!0,n).onComplete.add(function(){this.game.add.tween(e).to({x:[a-.25*o*i,a],y:[r+.3*s,r-.25*s,r-1.25*s,-s],angle:[0,-10*i+5*Math.random(),-5*i+5*Math.random(),10*i]},t,Phaser.Easing.Quadratic.InOut,!0,0).interpolation(function(e,t){return Phaser.Math.bezierInterpolation(e,t)}),this.game.add.tween(e.scale).to({x:[u,1.02*u,.9*u,.5*u],y:[l,1.02*l,.9*l,.5*l],alpha:[c,c,c,0]},t,Phaser.Easing.Quadratic.InOut,!0,0).onComplete.add(function(){if(this.game.global.windowWidth>this.game.global.windowHeight)var t=this.game.global.windowWidth/1.2;else var t=this.game.global.windowHeight/1.1;this.fireworkExplosion(0,this.message.y,t),e.destroy()},this)},this)}},{key:"fireworkExplosion",value:function(e,t,n){for(var i=0;i<5;i++)this.game.time.events.add(300*i,function(){f.playPngSequence(this.game,PiecSettings.pngAnimations[0],this.fxLayer,e+i*Math.random()*this.game.global.windowWidth/5,t+this.game.global.windowHeight*(Math.random()-.5),n,n)},this)}}]),t}(Phaser.Group);n.default=g},{"../utils/animations-util":15,"../utils/container-util":16,"../utils/custom-png-sequences-renderer.js":17,"../utils/util":18}],12:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),r(t,[{key:"preload",value:function(){}},{key:"init",value:function(){PiecSettings.assetsDir="dev"===PiecSettings.env?"assets/":"";var e=this.game;e.onGameComplete=new Phaser.Signal,e.onCompleteLevel=new Phaser.Signal,e.onGridComplete=new Phaser.Signal,"undefined"!=typeof piec&&(piec.lockGame=function(){e.global.locked=!0},piec.unlockGame=function(){e.global.locked=!1},piec.completeLevel=function(){e.onCompleteLevel.dispatch()},piec.destroyGame=function(){e.destroy()}),window.onresize=function(){e.scale.setGameSize(document.body.clientWidth*window.devicePixelRatio,document.body.clientHeight*window.devicePixelRatio),e.scale.refresh(),e.state.start("boot",!0,!1)}}},{key:"create",value:function(){this.init(),this.game.input.maxPointers=1,this.initGlobalVariables(),this.game.state.start("preloader"),this.game.onMoveStart=function(e){e.global.interactions++,PiecSettings&&PiecSettings.onMoveStart&&PiecSettings.onMoveStart(e.global.interactions)},this.game.onMoveComplete=function(e){PiecSettings&&PiecSettings.onMoveComplete&&PiecSettings.onMoveComplete(e.global.moveStats)}}},{key:"initGlobalVariables",value:function(){this.game.global={interaction:0,reelsSpinCompleted:0,isComplete:!1}}}]),t}(Phaser.State);n.default=s},{}],13:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../prefabs/logo"),c=(a(l),e("../prefabs/dark-overlay")),h=(a(c),e("../prefabs/cta-button")),d=a(h),f=e("../prefabs/background"),g=a(f),p=e("../prefabs/audio-controller"),m=a(p),y=e("../prefabs/welcome-message"),w=a(y),v=e("../prefabs/box"),b=a(v),P=e("../utils/container-util"),x=i(P),O=e("../utils/util"),S=i(O),_=e("../utils/custom-png-sequences-renderer.js"),C=(i(_),function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),u(t,[{key:"create",value:function(){this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.setUserScale(1/window.devicePixelRatio,1/window.devicePixelRatio,0,0),this.game.global.windowWidth=document.body.clientWidth,this.game.global.windowHeight=document.body.clientHeight,this.game.stage.disableVisibilityChange=!0,this.background=new g.default(this.game),this.game.add.existing(this.background),this.message=new w.default(this.game),this.game.add.existing(this.message),this.audioController=new m.default,this.giftBox=new b.default(this.game,this.audioController),this.game.add.existing(this.giftBox),x.fitInContainer(this.giftBox,"gift",.5,.5);var e=null!=S.getDeviceOS()?S.getDeviceOS()+"-store":"ios-store";this.appStore=new Phaser.Sprite(this.game,0,0,e),this.game.add.existing(this.appStore),x.fitInContainer(this.appStore,"badge"),S.isPortrait(this.game)&&(this.appStore.alpha=0),this.cta=new d.default(this.game),this.game.add.existing(this.cta),this.cta.moveUp("cta-container",!1),this.game.time.events.add(100,function(){this.shakeGiftBox()},this),document.getElementById("fullScreenClick").addEventListener("click",function(){parent.postMessage("download","*")})}},{key:"resize",value:function(){}},{key:"render",value:function(){}},{key:"shakeGiftBox",value:function(){var e=this.giftBox.x,t=this.giftBox.width/2*.1;this.game.add.tween(this.giftBox).to({x:[e+10,e,e-10,e]},200,Phaser.Easing.Quadratic.In,!0,200).onComplete.add(function(){this.giftBox.animateBox("replace"),this.game.time.events.add(500,function(){this.giftBox.dropCoins(1),this.game.time.events.add(500,function(){this.giftBox.animateBox("original")},this)},this)},this),this.game.time.events.add(2e3,function(){this.giftBox.animateBox("replace"),this.game.add.tween(this.giftBox).to({x:e+t},100,Phaser.Easing.Quadratic.In,!0,0,-1).yoyo(!0,0),this.game.time.events.add(500,function(){S.isPortrait(this.game)?this.giftBox.dropCoins(150):this.giftBox.dropCoins(200),this.game.time.events.add(800,function(){this.giftBox.revealContent(1e3),this.game.time.events.add(500,function(){S.isPortrait(this.game)&&this.game.add.tween(this.appStore).to({alpha:.8},500,Phaser.Easing.Linear.None,!0,500),this.cta.moveUp("cta-container-final",!0)},this)},this)},this)},this)}}]),t}(Phaser.State));n.default=C},{"../prefabs/audio-controller":5,"../prefabs/background":6,
"../prefabs/box":7,"../prefabs/cta-button":8,"../prefabs/dark-overlay":9,"../prefabs/logo":10,"../prefabs/welcome-message":11,"../utils/container-util":16,"../utils/custom-png-sequences-renderer.js":17,"../utils/util":18}],14:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("../atlas/index"),l=(i(u),e("../utils/util")),c=(i(l),e("../animations.js")),h=(i(c),e("../utils/custom-png-sequences-renderer.js")),d=i(h),f=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.asset=null,e}return r(t,e),s(t,[{key:"preload",value:function(){this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources(),d.preloadPngSequences(this.game)}},{key:"update",value:function(){}},{key:"loadResources",value:function(){this.game.load.image("content-landscape",PiecSettings.assetsDir+"landscape.jpg"),this.game.load.image("content-portrait",PiecSettings.assetsDir+"portrait.jpg"),this.game.load.image("cta",PiecSettings.assetsDir+"cta.png");for(var e=0;e<PiecSettings.assets.length;e++){var t=PiecSettings.assets[e],n=t.split(".");this.game.load.image(n[0],PiecSettings.assetsDir+t)}this.game.global.animations={},PiecSettings.animation=PiecSettings.animation||{}}},{key:"onLoadComplete",value:function(){this.game.state.start("endcard")}}]),t}(Phaser.State);n.default=f},{"../animations.js":1,"../atlas/index":2,"../utils/custom-png-sequences-renderer.js":17,"../utils/util":18}],15:[function(e,t,n){"use strict";function i(e,t){e.loopReverse&&(e.animations.currentAnim.isReversed=!0),0!=t.loopCount&&t.loopCount===e.numberOfLoops&&(e.persistent||(t.loop=!1,e.alpha=0))}function a(e,t,n,i,a){t.loopReverse=a,t.speed=i,t.loopReverse?e.time.events.add(n,function(){t.alpha=1,t.animations.play("animation",i,!1),t.animations.currentAnim.onComplete.add(o,this)}):e.time.events.add(n,function(){t.alpha=1,t.animations.play("animation",i,!0)})}function o(e,t){e.animations.currentAnim.isReversed=!e.animations.currentAnim.isReversed,e.animations.play("animation",e.speed,!1)}function r(e,t,n,o,r,s,u,l,c,h,d,f){for(var g=h.offsetWidth*window.devicePixelRatio,p=h.offsetHeight*window.devicePixelRatio,m=h.offsetLeft*window.devicePixelRatio,y=h.offsetTop*window.devicePixelRatio,w=g/100,v=p/100,b=[],P=0;P<t.length;P++){var x=d.add.sprite(m+t[P]*w,y+n[P]*v,e);f.add(x),x.anchor.set(s),x.animations.add("animation"),x.alpha=0,x.persistent=c,a(d,x,o[P],u,!1),x.scale.x=g*l[P]/100/x.width,x.scale.y=x.scale.x,b.push(x),null!=r&&(x.numberOfLoops=r[P],x.animations.currentAnim.onLoop.add(i,this))}return b}function s(e,t,n,i,a,o,r,s){e.time.events.add(r,function(){t.alpha=1,e.add.tween(t).to({y:i,x:n},o,s,!0,0),e.add.tween(t.scale).to({x:a,y:a},o,s,!0,0)},this),e.time.events.add(r+1700,function(){e.add.tween(t).to({alpha:0},1e3,Phaser.Easing.Quadratic.InOut,!0,0),e.time.events.add(1e3,function(){t.destroy()},this)},this)}function u(e,t,n,i,a,o,r,s){e.time.events.add(r,function(){t.alpha=90*Math.random()+5,e.add.tween(t).to({alpha:0,y:i,x:n},o,s,!0,0),e.add.tween(t.scale).to({x:a,y:a},o,s,!0,0)},this)}function l(e,t,n,i,a,o,r){this.starFloatWithDelayCustom(e,t,n,i,a,o,r,Phaser.Easing.Quadratic.InOut)}function c(e,t,n,i,a,o,r,s){e.time.events.add(r,function(){e.add.tween(t).to({alpha:0,y:[i,i+100],x:n},o,s,!0,0),e.add.tween(t.scale).to({x:0,y:0},o,s,!0,0)},this)}function h(e,t,n,i,a,o,r,s,u,l,c,h){e.time.events.add(u,function(){e.add.tween(t).to({x:[n],y:[i],angle:[.5*l]},s/2,c,!0,0).onComplete.add(function(){Math.random()>.5&&t.bringToTop(),e.add.tween(t).to({x:[a],y:[o],angle:[l]},.7*s,h,!0,0).onComplete.add(function(){t.destroy()},this)},this)},this)}Object.defineProperty(n,"__esModule",{value:!0}),n.onLoop=i,n.playAnimation=a,n.onComplete=o,n.playAnimations=r,n.starFloatWithDelayCustom2=s,n.starFloatWithDelayCustom=u,n.starFloatWithDelay=l,n.fireworkExplosion=c,n.coinDropwithDelayCuston=h},{}],16:[function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(t);var o=document.getElementById(t),r=o.offsetWidth*window.devicePixelRatio,s=o.offsetHeight*window.devicePixelRatio,u=o.getBoundingClientRect().left*window.devicePixelRatio,l=o.getBoundingClientRect().top*window.devicePixelRatio;void 0!==e.anchor&&(e.anchor.x=n,e.anchor.y=i),e.x=u+r*n,e.y=l+s*i;var c=e.scale.x;e.scale.x=r/(e.width/e.scale.x),e.scale.y=e.scale.x,e.height>s&&(e.scale.x=c,e.scale.y=c,e.scale.y=s/(e.height/e.scale.y),e.scale.x=e.scale.y)}function a(e){null==document.getElementById(e)&&console.log("ERROR: Container Name "+e+" doesn't exist in the DOM")}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(t);var o=document.getElementById(t),r=o.offsetWidth*window.devicePixelRatio,s=o.offsetHeight*window.devicePixelRatio,u=o.getBoundingClientRect().left*window.devicePixelRatio,l=o.getBoundingClientRect().top*window.devicePixelRatio;void 0!==e.anchor&&(e.anchor.x=n,e.anchor.y=i),e.x=u+r*n,e.y=l+s*i,e.scale.x=r/(e.width/e.scale.x),e.scale.y=e.scale.x}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(t);var o=document.getElementById(t),r=o.offsetWidth*window.devicePixelRatio,s=o.offsetHeight*window.devicePixelRatio,u=o.getBoundingClientRect().left*window.devicePixelRatio,l=o.getBoundingClientRect().top*window.devicePixelRatio;void 0!=e.anchor&&e.anchor.set(n,i),e.x=u+r*n,e.y=l+s*i,e.scale.y=s/e.height,e.scale.x=e.scale.y}function s(e,t){o(e,t),e.x+=e.width/2,e.y+=e.height/2}function u(e){return a(e),document.getElementById(e).getBoundingClientRect().top*window.devicePixelRatio}function l(e){return a(e),document.getElementById(e).getBoundingClientRect().left*window.devicePixelRatio}function c(e){return a(e),document.getElementById(e).offsetWidth*window.devicePixelRatio}function h(e){return a(e),document.getElementById(e).offsetHeight*window.devicePixelRatio}function d(e,t){a(t);var n=document.getElementById(t),i=n.offsetWidth*window.devicePixelRatio;n.offsetHeight,window.devicePixelRatio;e.scale.x=i/e.width,e.scale.y=e.scale.x}function f(e){a(e);var t=document.getElementById(e),n=t.offsetWidth*window.devicePixelRatio,i=(t.offsetHeight,window.devicePixelRatio,t.getBoundingClientRect().left*window.devicePixelRatio);t.getBoundingClientRect().top,window.devicePixelRatio;return i+Math.random()*n}function g(e){a(e);var t=document.getElementById(e),n=(t.offsetWidth,window.devicePixelRatio,t.offsetHeight*window.devicePixelRatio);t.getBoundingClientRect().left,window.devicePixelRatio;return t.getBoundingClientRect().top*window.devicePixelRatio+Math.random()*n}function p(e){a(e);var t=document.getElementById(e),n=t.offsetWidth*window.devicePixelRatio;return t.getBoundingClientRect().left*window.devicePixelRatio+n/2}function m(e){a(e);var t=document.getElementById(e),n=t.offsetHeight*window.devicePixelRatio;return t.getBoundingClientRect().top*window.devicePixelRatio+n/2}Object.defineProperty(n,"__esModule",{value:!0}),n.bestFit=i,n.fitInContainer=o,n.fitInContainerHeight=r,n.fitInContainerAnchorAtCenter=s,n.getContainerY=u,n.getContainerX=l,n.getContainerWidth=c,n.getContainerHeight=h,n.resizeToSizeOfContainer=d,n.getRandomXWithinContainer=f,n.getRandomYWithinContainer=g,n.getXCenterWithinContainer=p,n.getYCenterWithinContainer=m},{}],17:[function(e,t,n){"use strict";function i(e){if(null!=PiecSettings.pngAnimations)for(var t=0;t<PiecSettings.pngAnimations.length;t++){var n=PiecSettings.pngAnimations[t];a(e,n)}}function a(e,t){var n=t.src.substr(0,t.src.indexOf("."));e.load.spritesheet(n,PiecSettings.assetsDir+t.src,t.spriteWidth,t.spriteHeight,t.spriteNumber)}function o(e,t,n,i,a,o,r){var u=t.src.substr(0,t.src.indexOf("."));if(null!=t.htmlContainer)var l=document.getElementById(t.htmlContainer),o=l.offsetWidth*window.devicePixelRatio,i=(l.offsetHeight,window.devicePixelRatio,l.getBoundingClientRect().left*window.devicePixelRatio),a=l.getBoundingClientRect().top*window.devicePixelRatio;var c=e.add.sprite(i,a,u);if(n.add(c),c.animations.add("animation"),c.anchor.set(0,0),c.alpha=0,null==t.loopReverse&&(t.loopReverse=!1),null!=t.isReversed&&t.isReversed&&(c.animations.currentAnim.isReversed=!0),s.playAnimation(e,c,t.delay,t.fps,t.loopReverse),null!=t.angle&&0!=t.angle){var h=0;this.game.global.windowWidth>this.game.global.windowHeight&&null!=t.responsiveAngle&&t.responsiveAngle&&(h=90),c.anchor.set(.5),c.angle=t.angle+h}if(c.scale.x=o/c.width,c.scale.y=c.scale.x,c.persistent=!1,null!=t.loops&&(c.numberOfLoops=t.loops,c.animations.currentAnim.onLoop.add(s.onLoop,this)),null!=t.effect&&-1!=t.effect.indexOf("fade-in")){c.alpha=0;e.add.tween(c).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,t.delay)}return c}Object.defineProperty(n,"__esModule",{value:!0}),n.preloadPngSequences=i,n.playPngSequence=o;var r=e("../utils/animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r)},{"../utils/animations-util.js":15}],18:[function(e,t,n){"use strict";function i(e,t){return t||(t=0),Math.floor(Math.random()*(e-t+1))+t}function a(e){return e[this.rndInt(e.length-1,0)]}function o(e){return e||(e=1),"rgba("+this.rndInt(256)+","+this.rndInt(256)+","+this.rndInt(256)+","+e+")"}function r(e){return e.global.windowHeight>e.global.windowWidth}function s(e){return JSON.parse(JSON.stringify(e))}function u(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function l(e){return-1===e.lastIndexOf(".")?e:e.substring(0,e.lastIndexOf("."))}function c(e){e.style.opacity=0;var t=+new Date;!function n(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(n)||setTimeout(n,16))}()}function h(e){return 100*Math.sqrt(2*Math.abs(e)/w)}function d(e){var t={boolean:{},number:{},string:{}},n=[];return e.filter(function(e){var i=void 0===e?"undefined":y(e);return i in t?!t[i].hasOwnProperty(e)&&(t[i][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)})}function f(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}function g(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function p(e){switch(e){case"Linear":return Phaser.Easing.Linear.None;case"LinearOut":return Phaser.Easing.Linear.Out;case"LinearIn":return Phaser.Easing.Linear.In;case"BackIn":return Phaser.Easing.Back.In;case"BackOut":return Phaser.Easing.Back.Out;case"BounceIn":return Phaser.Easing.Bounce.In;case"BounceOut":return Phaser.Easing.Bounce.Out;case"CircularIn":return Phaser.Easing.Circular.In;case"CircularOut":return Phaser.Easing.Circular.Out;case"CubicIn":return Phaser.Easing.Cubic.In;case"CubicOut":return Phaser.Easing.Cubic.Out;case"ElasticIn":return Phaser.Easing.Elastic.In;case"ElasticOut":return Phaser.Easing.Elastic.Out;case"ExponentialIn":return Phaser.Easing.Exponential.In;case"ExponentialOut":return Phaser.Easing.Exponential.Out;case"QuadraticIn":return Phaser.Easing.Quadratic.In;case"QuadraticOut":return Phaser.Easing.Quadratic.Out;case"QuadraticInOut":return Phaser.Easing.Quadratic.InOut;case"QuarticIn":return Phaser.Easing.Quartic.In;case"QuarticOut":return Phaser.Easing.Quartic.Out;case"QuinticIn":return Phaser.Easing.Quintic.In;case"QuinticOut":return Phaser.Easing.Quintic.Out;case"SinusoidalIn":return Phaser.Easing.Sinusoidal.In;case"SinusoidalOut":return Phaser.Easing.Sinusoidal.Out}console.error('unkown easing value "'+e+'"')}function m(){var e=navigator.userAgent||navigator.vendor||window.opera,t=null;return/windows phone/i.test(e)&&(t="windowsPhone"),/android/i.test(e)&&(t="android"),/iPad|iPhone|iPod/.test(e)&&!window.MSStream&&(t="ios"),t}Object.defineProperty(n,"__esModule",{value:!0});var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.rndInt=i,n.sample=a,n.rndRgba=o,n.isPortrait=r,n.clone=s,n.remove=u,n.removeExtension=l,n.fadeIn=c,n.calcQuadTime=h,n.uniq=d,n.extend=f,n.numberWithCommas=g,n.getEasing=p,n.getDeviceOS=m;var w=19.8},{}]},{},[4]);
