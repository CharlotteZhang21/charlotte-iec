!function e(t,i,a){function n(r,s){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[r]={exports:{}};t[r][0].call(h.exports,function(e){var i=t[r][1][e];return n(i||e)},h,h.exports,e,t,i,a)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<a.length;r++)n(a[r]);return n}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({coin_burst_01:[{img:"logo.png"},{img:"cta.png"}],coin_cascade_05:[{img:"logo2.png"}]},"coin_cascade_05",[{img:"spin_button.png"},{img:"symbols.png"}])},{}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("./pieces.js"),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a);i.default={pieces:n.default}},{"./pieces.js":3}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{blue:{frame:{x:152,y:1,w:151,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:151,h:161},sourceSize:{w:151,h:161}},blue_p:{frame:{x:156,y:164,w:151,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:151,h:161},sourceSize:{w:151,h:161}},donut:{frame:{x:609,y:164,w:181,h:149},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:181,h:149},sourceSize:{w:181,h:149}},green:{frame:{x:460,y:327,w:149,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:149,h:161},sourceSize:{w:149,h:161}},macaron:{frame:{x:610,y:1,w:148,h:155},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:148,h:155},sourceSize:{w:148,h:155}},marshmallow:{frame:{x:305,y:1,w:151,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:151,h:161},sourceSize:{w:151,h:161}},orange:{frame:{x:156,y:327,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},orange_p:{frame:{x:308,y:327,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},popcorn:{frame:{x:461,y:164,w:146,h:161},rotated:!1,trimmed:!0,spriteSourceSize:{x:2,y:0,w:146,h:161},sourceSize:{w:151,h:161}},pudding:{frame:{x:611,y:315,w:159,h:153},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:153},sourceSize:{w:159,h:153}},purple:{frame:{x:1,y:165,w:153,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:153,h:161},sourceSize:{w:153,h:161}},purple_p:{frame:{x:1,y:328,w:153,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:153,h:161},sourceSize:{w:153,h:161}},red:{frame:{x:309,y:164,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},red_p:{frame:{x:458,y:1,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},yellow:{frame:{x:1,y:1,w:149,h:162},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:149,h:162},sourceSize:{w:149,h:162}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"tiles.png",format:"RGBA8888",size:{w:791,h:490},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:a52266418105fd394661db76f76d6094:5da80af01517e173c5b36dd3086b03ba:accbe1e7e294ded8391337fc1c446319$"}}},{}],4:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=e("./states/boot"),o=a(n),r=e("./states/endcard"),s=a(r),l=e("./states/preloader"),c=a(l),h=new Phaser.Game(document.body.clientWidth*window.devicePixelRatio,document.body.clientHeight*window.devicePixelRatio,Phaser.CANVAS,"game",null,!0);h.state.add("boot",new o.default),h.state.add("endcard",new s.default),h.state.add("preloader",new c.default),h.state.start("boot")},{"./states/boot":14,"./states/endcard":15,"./states/preloader":16}],5:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=function(e){function t(e){a(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.createBackground(),i}return o(t,e),r(t,[{key:"createBackground",value:function(){var e=new Phaser.Sprite(this.game,0,0,"background");this.add(e);var t=this.width;this.height;this.game.global.windowHeight>this.game.global.windowWidth?(this.scale.x=this.game.global.windowHeight*window.devicePixelRatio/this.height*1.05,this.scale.y=this.scale.x,this.game.global.windowWidth*window.devicePixelRatio>this.width&&(this.scale.x=this.game.global.windowWidth*window.devicePixelRatio/t,this.scale.y=this.scale.x),this.x=this.game.global.windowWidth*window.devicePixelRatio/2-this.width/2,this.y=this.game.global.windowHeight*window.devicePixelRatio/2-this.height/2):(this.scale.x=this.game.global.windowWidth*window.devicePixelRatio/this.width*1.05,this.scale.y=this.scale.x,this.height<this.game.global.windowHeight*window.devicePixelRatio&&(this.scale.y=this.game.global.windowHeight*window.devicePixelRatio/this.width*1.05,this.scale.x=this.scale.y),this.x=this.game.global.windowWidth*window.devicePixelRatio/2-this.width/2,this.y=this.game.global.windowHeight*window.devicePixelRatio/2-this.height/2-100),e.alpha=0,this.game.add.tween(e).to({alpha:1},100,Phaser.Easing.Linear.None,!0,100)}}]),t}(Phaser.Group);i.default=s},{}],6:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=e("../utils/container-util"),c=a(l),h=e("../utils/util"),d=(a(h),e("../utils/animations-util")),u=(a(d),e("../utils/custom-png-sequences-renderer.js")),g=(a(u),function(e){function t(e,i,a){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cookieWord=i,r.wordGrid=a,r.game.input.onUp.add(r.onUp,r),r.letters="",r.moveStart=!1,r.inputLocked=!1,r.containerName="board-background",r.blockArray=[],r.tempSelectedBlocksCoordinates=[],r.canHandTutorial=!0,r.createStacks(),r.createHand(),r}return r(t,e),s(t,[{key:"createHand",value:function(){this.hand=new Phaser.Sprite(this.game,0,0,"hand"),this.hand.anchor.set(.85,.85),this.hand.angle=-15,this.game.global.windowWidth<this.game.global.windowHeight?(this.hand.scale.x=.18*c.getContainerWidth(this.containerName)/this.hand.width,this.hand.scale.y=this.hand.scale.x):(this.hand.scale.x=.27*c.getContainerWidth(this.containerName)/this.hand.width,this.hand.scale.y=this.hand.scale.x),this.add(this.hand),this.hand.alpha=0,this.handInitialScale=this.hand.scale.x}},{key:"handFollowWord",value:function(e){if(!this.game.global.tutorialCanceled&&this.canHandTutorial){this.canHandTutorial=!1;var t=e.start.r,i=e.end.r,a=e.start.c,n=e.end.c;this.moveHandDuration=1e3;var o=this.blockArray[t][a];this.moveHandToBeforePress(o).onComplete.add(function(){this.pressHand(o).onComplete.add(function(){var e=this.blockArray[i][n];this.moveHandTo(e,this.moveHandDuration),this.unpressHandAndMoveOutWithDelay(1e3)},this)},this)}}},{key:"pressHand",value:function(e){this.handTutorial=!0;var t=this.game.add.tween(this.hand.scale).to({x:.9*this.handInitialScale,y:.9*this.handInitialScale},650,Phaser.Easing.Quadratic.InOut,!0,0);this.hand.x,this.hand.y;return this.game.add.tween(this.hand).to({angle:[-40,-50,-50]},650,Phaser.Easing.Quadratic.InOut,!0,0),t}},{key:"unpressHandAndMoveOutWithDelay",value:function(e){this.game.time.events.add(e,function(){this.game.add.tween(this.hand.scale).to({x:this.handInitialScale,y:this.handInitialScale},400,Phaser.Easing.Quadratic.InOut,!0,0),this.game.add.tween(this.hand).to({angle:-5,x:this.game.global.windowWidth*window.devicePixelRatio*this.scale.x+1.5*this.hand.width},800,Phaser.Easing.Quadratic.InOut,!0,200).onComplete.add(function(){this.canHandTutorial=!0},this)},this)}},{key:"moveHandToWithDelay",value:function(e,t){this.game.time.events.add(t,function(){this.moveHandTo(e)},this)}},{key:"moveHandToBeforePress",value:function(e){var t=this.game.add.tween(this.hand).to({x:e.x+e.width/2+.9*this.hand.width,y:e.y+e.height/2+.1*this.hand.height,alpha:1},700,Phaser.Easing.Quadratic.InOut,!0,0);return this.game.add.tween(this.hand).to({angle:-20},700,Phaser.Easing.Quadratic.InOut,!0,0),t}},{key:"moveHandTo",value:function(e){return this.game.add.tween(this.hand).to({x:e.x+e.width/2+this.hand.width,y:e.y+e.height/2+.2*this.hand.height},this.moveHandDuration,Phaser.Easing.Linear.None,!0,0)}},{key:"createStacks",value:function(){for(var e=PiecSettings.words,t=e.length,i=e[0].length,a=c.getContainerWidth(this.containerName)/i,n=0,o=c.getContainerX(this.containerName),r=c.getContainerY(this.containerName),s=0;s<t;s++){for(var l=r+s*n*.9,h=[],d=0;d<i;d++){var u=o+d*a,g=this.createLetters(e[s][d],a,u,l,s,d);0==n&&(n=g.height),h.push(g),this.game.world.sendToBack(g);var f=g.y;g.y=-400,this.game.add.tween(g).to({y:f},500,Phaser.Easing.Linear.InOut,!0,1200-100*s+50*Math.random())}this.blockArray.push(h)}}},{key:"createLetters",value:function(e,t,i,a,n,o){var r=new Phaser.Group(this.game);if("-"==e){var s=new Phaser.Sprite(this.game,0,0,"letterBg");r.add(s),r.key="-",r.used=!1,r.row=n,r.column=o,s.scale.x=t/s.width,s.scale.y=s.scale.x,r.alpha=0}else{var l=new Phaser.Sprite(this.game,0,0,"letterHighlight");r.add(l),l.scale.x=t/l.width,l.scale.y=l.scale.x;var s=new Phaser.Sprite(this.game,0,0,"letterBg");r.add(s),s.scale.x=t/s.width,s.scale.y=s.scale.x;var c=this.createLetterText(s,e);r.add(c),r.key=e,r.used=!1,r.x=i,r.y=a,r.row=n,r.column=o,s.inputEnabled=!0,s.events.onInputDown.add(this.onInputDownLetter,this)}return r}},{key:"createLetterText",value:function(e,t,i){var a,n="bold",o=PiecSettings.fontFamily,r=[PiecSettings.fontColor],s=PiecSettings.stackLetterStyle;n=s.fontWeight,a=.5*e.height,o=s.fontFamily,null==i?r=s.color:(r=[],r.push(i)),s.stroke,s.strokeThickness,s.shadow,s.anchor.x,s.anchor.y;var l={font:n+" "+a+"px "+o},c=new Phaser.Text(this.game,0,0,t,l);c.anchor.set(.5),c.x=.5*e.width,c.y=.6*e.height;var h=c.context.createLinearGradient(0,0,0,c.height);if(void 0!==r&&r.length>0)for(var d=0;d<r.length;d++){var u=d/r.length;h.addColorStop(u,r[d])}return c.fill=h,c}},{key:"checkWordIsCorrect",value:function(){for(var e=!1,t=PiecSettings.goals,i=0;i<t.length;i++)t[i]==this.letters&&(e=!0);return e}},{key:"onUp",value:function(){if(this.moveStart=!1,this.handTutorial||(this.handTutorial=!1),this.game.global.tutorialCanceled&&(this.game.global.tutorialCanceled=!1),this.checkWordIsCorrect())this.wordFlyToGoal(),this.game.time.events.add(1e3,function(){this.callOut()},this);else for(var e=0;e<this.tempSelectedBlocksCoordinates.length;e++){var t=this.tempSelectedBlocksCoordinates[e];this.blockArray[t.row][t.column].used=!1,this.blockArray[t.row][t.column].children[1].alpha=1}this.letters="",this.cookieWord.clearLetters(),this.tempSelectedBlocksCoordinates=[]}},{key:"resetArray",value:function(){for(var e=0;e<this.blockArray.length;e++)for(var t=0;t<this.blockArray[e].length;t++){var i=this.blockArray[e][t];"-"!=i.key&&(i.used=!1,i.children[1].alpha=1)}}},{key:"callOut",value:function(){var e="callout_amazing";if("downToUp"==this.wordSelectionDirection||"leftToRight"==this.wordSelectionDirection){e="callout_spectacular";var t=new Phaser.Sprite(this.game,0,0,"callout_bg");c.fitInContainer(t,"win-message",.5,.5);var i=new Phaser.Sprite(this.game,0,0,e);c.fitInContainer(i,"win-message",.5,.5),this.game.add.existing(t),this.game.add.existing(i);var a=t.scale.x;t.scale.x=0;var n=i.scale.x;i.scale.x=0,i.scale.y=0,this.game.add.tween(t.scale).to({x:[0,a]},800,Phaser.Easing.Quadratic.InOut,!0,0).onComplete.add(function(){this.game.add.tween(t).to({alpha:0},500,Phaser.Easing.Linear.Out,!0,0).onComplete.add(function(){t.destroy()},this)},this),this.game.add.tween(i.scale).to({x:n,y:n},800,Phaser.Easing.Quadratic.InOut,!0,300).onComplete.add(function(){this.game.add.tween(i).to({alpha:0},500,Phaser.Easing.Linear.Out,!0,0).onComplete.add(function(){i.destroy()},this)},this)}}},{key:"wordFlyToGoal",value:function(){for(var e=this.letters,t=this.tempSelectedBlocksCoordinates.length-1;t>=0;t--){var i=this.tempSelectedBlocksCoordinates[t],a=this.blockArray[i.row][i.column],n=this.createLetterText(a.children[0],a.key,"#fff");n.x=a.x+a.width/2,n.y=a.y+a.height/2;var o=n.scale.x,r=this.wordGrid.getPlaceHoldersCoordinates(e,t),s=r.h/n.height*.8;this.game.add.existing(n),n.scale.x=0,n.scale.y=0,this.game.add.tween(n.scale).to({x:[1.25*o,1.5*o,s],y:[1.25*o,1.5*o,s]},800,Phaser.Easing.Quadratic.InOut,!0,100),this.game.add.tween(n).to({x:r.x,y:r.y},600,Phaser.Easing.Quadratic.InOut,!0,500+50*t).onComplete.add(function(e){this.game.add.tween(e).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0)},this),this.game.add.tween(a).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0),this.moveTheRestOfBlocks(i,a),a.destroy()}this.game.time.events.add(1e3,function(){this.wordGrid.turnGrid(e)},this)}},{key:"moveTheRestOfBlocks",value:function(e,t){var i=null,a=null;if(0!=e.row&&(i=this.blockArray[e.row-1][e.column]),0!=e.column&&(a=this.blockArray[e.row][e.column-1]),null==i||i.used){if(null!=a&&!a.used){for(var n=t.row,o=t.column,r=o;r>=1;r--){var s=this.blockArray[n][r],l=this.blockArray[n][r-1];l.column=r,this.game.add.tween(l).to({x:s.x},500,Phaser.Easing.Quadratic.InOut,!0,0),this.blockArray[n][r]=this.blockArray[n][r-1]}this.blockArray[n][0]=this.createLetters("-",t.width,t.x,t.Y,n,0)}}else{for(var n=t.row,o=t.column,c=n;c>=1;c--){var s=this.blockArray[c][o],l=this.blockArray[c-1][o];l.row=c,this.game.add.tween(l).to({y:s.y},500,Phaser.Easing.Quadratic.InOut,!0,0),this.blockArray[c][o]=this.blockArray[c-1][o]}this.blockArray[0][o]=this.createLetters("-",t.width,t.x,t.Y,n,0)}}},{key:"isInputOverLetter",value:function(e,t){for(var i=0;i<this.blockArray.length;i++)for(var a=0;a<this.blockArray[i].length;a++){var n=this.blockArray[i][a];if(!n.used&&this.isBetweenValues(e,n.x,n.x+n.width)&&this.isBetweenValues(t,n.y,n.y+n.height))return n}return null}},{key:"isBetweenValues",value:function(e,t,i){return e>t&&e<i}},{key:"onInputDownLetter",value:function(e){null!=this.game.global.idleTimer&&this.game.time.events.remove(this.game.global.idleTimer),this.inputLocked||(this.moveStart=!0,this.game.global.tutorialCanceled||(this.game.global.tutorialCanceled=!0),this.handTutorial&&(this.handTutorial=!1))}},{key:"animate",value:function(){this.inputLocked=!0;for(var e=0;e<this.blockArray.length;e++)for(var t=0;t<this.blockArray[e].length;t++){var i=this.blockArray[e][t];this.game.global.windowHeight>this.game.global.windowWidth?this.game.add.tween(i).to({x:[-this.width]},1400,Phaser.Easing.Quadratic.InOut,!0,50*e*(1+Math.random())):this.game.add.tween(i).to({x:[this.game.global.windowWidth*window.devicePixelRatio+this.width]},1400,Phaser.Easing.Quadratic.InOut,!0,50*e*(1+Math.random()))}}},{key:"update",value:function(){if(this.moveStart){this.mouseX=(this.game.input.x-this.x)/this.scale.x,this.mouseY=(this.game.input.y-this.y)/this.scale.y;var e=this.isInputOverLetter(this.mouseX,this.mouseY),t=!1;if(null!=e){this.handTutorial||this.game.add.tween(this.hand).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0);var i={row:e.row,column:e.column};if(0==this.tempSelectedBlocksCoordinates.length)t=!0;else if(1==this.tempSelectedBlocksCoordinates.length){var a=this.tempSelectedBlocksCoordinates.length,n=this.tempSelectedBlocksCoordinates[a-1];i.row==n.row?(t=!0,i.column==n.column-1?this.wordSelectionDirection="leftToRight":i.column==n.column+1&&(this.wordSelectionDirection="rightToLeft")):i.column==n.column&&(t=!0,i.row==n.row+1?this.wordSelectionDirection="upToDown":i.row==n.row+1&&(this.wordSelectionDirection="downToUp"))}else if(this.tempSelectedBlocksCoordinates.length>=2){var a=(this.tempSelectedBlocksCoordinates[0],this.tempSelectedBlocksCoordinates.length),n=this.tempSelectedBlocksCoordinates[a-1];switch(this.wordSelectionDirection){case"leftToRight":i.column==n.column-1&&(e=this.blockArray[n.row][n.column-1],i={row:e.row,column:e.column},t=!0);break;case"rightToLeft":i.column==n.column+1&&(e=this.blockArray[n.row][n.column+1],i={row:e.row,column:e.column},t=!0);break;case"upToDown":i.row==n.row+1&&(e=this.blockArray[n.row+1][n.column],i={row:e.row,column:e.column},t=!0);break;case"downToUp":i.row==n.row-1&&(e=this.blockArray[n.row-1][n.column],i={row:e.row,column:e.column},t=!0);break;default:console.log("noDirection")}}t&&(e.used=!0,this.tempSelectedBlocksCoordinates.push(i),e.children[1].alpha=0,this.letters+=e.key,this.cookieWord.updateBox(this.letters))}}}}]),t}(Phaser.Group));i.default=g},{"../utils/animations-util":17,"../utils/container-util":19,"../utils/custom-png-sequences-renderer.js":20,"../utils/util":21}],7:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=e("../utils/container-util"),c=a(l),h=e("../utils/animations-util"),d=(a(h),e("../utils/custom-png-sequences-renderer.js")),u=(a(d),function(e){function t(e){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.letters=[],i.createBox(),c.fitInContainerHeight(i,"cookie-word"),i.initialX=i.x,i}return r(t,e),s(t,[{key:"createBox",value:function(){this.background=this.game.add.graphics(0,0),this.backgroundColor=PiecSettings.highlightColor,void 0!==PiecSettings.colorPalette&&void 0!==PiecSettings.colorPalette.wordBoxDefault&&(this.backgroundColor=PiecSettings.colorPalette.wordBoxDefault),this.background.beginFill(this.backgroundColor),this.background.drawRoundedRect(0,0,1,120,90),this.background.alpha=0,this.background.anchor.set(.5),this.add(this.background),this.boxHeight=this.background.height,this.coloredBox=this.game.add.graphics(0,0),this.add(this.coloredBox)}},{key:"updateBox",value:function(e){this.alpha=1,this.clearLetters();var t,i="bold",a=PiecSettings.fontFamily,n=[PiecSettings.fontColor],o=PiecSettings.stackLetterStyle;i=o.fontWeight,t=.6*this.boxHeight,a=o.fontFamily,n=o.color,o.stroke,o.strokeThickness,o.shadow,o.anchor.x,o.anchor.y;var r={font:i+" "+t+"px "+a};this.text=new Phaser.Text(this.game,0,0,e,r),this.text.anchor.set(.5),this.background.clear(),this.background.beginFill(this.backgroundColor),this.background.drawRoundedRect(0,0,1.5*this.text.width,this.boxHeight,90),this.background.alpha=.95,this.background.anchor.set(.5),this.text.x=this.background.width/2,this.text.y=this.background.height/2;var s=this.text.context.createLinearGradient(0,0,0,this.text.height);if(void 0!==n&&n.length>0)for(var l=0;l<n.length;l++){var c=l/n.length;s.addColorStop(c,n[l])}this.text.fill=s,this.add(this.text),this.x=this.initialX-this.width/2}},{key:"fadeBox",value:function(){this.game.add.tween(this).to({alpha:0},700,Phaser.Easing.Quadratic.InOut,!0,0).onComplete.add(function(){this.clearLetters()},this)}},{key:"clearLetters",value:function(){null!=this.text&&this.text.destroy(),this.background.clear()}},{key:"colorBox",value:function(e,t){console.log("coloring box"),this.coloredBox.clear(),this.coloredBox.beginFill(t),this.coloredBox.drawRoundedRect(0,0,60+e.length*this.letterWidth,120,90),this.coloredBox.anchor.set(.5),this.coloredBox.alpha=0,this.game.add.tween(this.coloredBox).to({alpha:.7},300,Phaser.Easing.Quadratic.InOut,!0,0)}}]),t}(Phaser.Group));i.default=u},{"../utils/animations-util":17,"../utils/container-util":19,"../utils/custom-png-sequences-renderer.js":20}],8:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=e("../utils/container-util"),c=a(l),h=e("../utils/animations-util"),d=a(h),u=e("../utils/custom-png-sequences-renderer.js"),g=(a(u),e("../utils/auto-localisation-util")),f=a(g),p=function(e){function t(e,i,a,r){n(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.ctaLayer=i,s.winMessage=a,s.logo=r,s.fxLayer=new Phaser.Group(s.game),s.button=new Phaser.Sprite(s.game,0,0,"cta",0),s.initialCtaWidth=s.button.width,c.fitInContainer(s.button,"cta-container",.5,.5),s.downloadText=s.placeDownloadText("cta-container-text"),s.ctaLayer.add(s.button),s.ctaLayer.add(s.downloadText),s.game.world.bringToTop(s.ctaLayer),s.button.inputEnabled=!0,s.button.input.useHandCursor=!0,s.button.events.onInputDown.add(function(){doSomething("download")}),s}return r(t,e),s(t,[{key:"createTip",value:function(){this.tip=new Phaser.Sprite(this.game,0,0,"tip"),this.tip.anchor.set(.5),this.add(this.tip),this.tip.scale.x=.67*this.background.width/this.tip.width,this.tip.scale.y=this.tip.scale.x,this.tip.y=this.button.y+.2*this.button.height,this.tip.x=this.button.x+this.tip.width/2-.25*this.button.width}},{key:"showTip",value:function(){var e=this.tip.y;this.game.add.tween(this.tip).to({y:e-this.button.height},700,Phaser.Easing.Quadratic.InOut,!0,0),this.game.time.events.add(2500,function(){this.game.add.tween(this.tip).to({y:e},700,Phaser.Easing.Quadratic.InOut,!0,0)},this)}},{key:"createBackground",value:function(){var e=document.getElementById("cta-background"),t=e.offsetWidth*window.devicePixelRatio,i=e.offsetHeight*window.devicePixelRatio,a=e.getBoundingClientRect().left*window.devicePixelRatio,n=e.getBoundingClientRect().top*window.devicePixelRatio,o=new Phaser.BitmapData(this.game,"myBitmap",t,i),r=o.context.createLinearGradient(0,0,0,i);r.addColorStop(0,"#da8d2c"),r.addColorStop(.4,"#d84e01"),r.addColorStop(.8,"#e23d05"),r.addColorStop(1,"#e23d05"),o.context.fillStyle=r,o.context.fillRect(0,0,t,i),this.background=this.game.add.sprite(a,n,o,null,this),this.background.alpha=.9}},{key:"animate",value:function(){c.moveToContainer(this.button,"cta-container-final",0,900,Phaser.Easing.Quadratic.InOut,null,!0),c.moveToContainer(this.downloadText,"cta-container-text-final",0,900,Phaser.Easing.Quadratic.InOut,null,!0),this.game.time.events.add(1100,function(){this.startPulseIdleAnimation()},this)}},{key:"placeDownloadText",value:function(e){if(PiecSettings.dynamicLocalisation)var t=f.getLocalisedCta().text.toUpperCase(),i=f.getLocalisedCta().font;else var t="DOWNLOAD",i=PiecSettings.fontFamily;var a={font:this.button.height+"px "+i,fill:"#fff"},n=new Phaser.Text(this.game,0,0,t,a);return c.bestFit(n,e,.5,.5),n}},{key:"startPulseIdleAnimation",value:function(){this.buttonOver=new Phaser.Sprite(this.game,0,0,"cta-2"),this.buttonOver.anchor.set(.5,.5),this.buttonOver.x=this.button.x,this.buttonOver.y=this.button.y,this.buttonOver.scale.x=this.button.width/this.buttonOver.width,this.buttonOver.scale.y=this.buttonOver.scale.x,this.ctaLayer.add(this.buttonOver),this.downloadText.bringToTop(),this.buttonOver.alpha=0;var e=this.buttonOver.scale.x,t=this.downloadText.scale.x,i=this.game.add.tween(this.buttonOver).to({alpha:1},600,Phaser.Easing.Quadratic.InOut,!0,600).loop().yoyo(!0,0);this.game.add.tween(this.buttonOver.scale).to({x:1.05*e,y:1.05*e},600,Phaser.Easing.Quadratic.InOut,!0,600).loop().yoyo(!0,0),this.game.add.tween(this.button.scale).to({x:1.05*e,y:1.05*e},600,Phaser.Easing.Quadratic.InOut,!0,600).loop().yoyo(!0,0),this.game.add.tween(this.downloadText.scale).to({x:1.05*t,y:1.05*t},600,Phaser.Easing.Quadratic.InOut,!0,600).loop().yoyo(!0,0),this.game.time.events.add(200,function(){this.spawnCookies()},this),i.onLoop.add(function(){this.game.time.events.add(200,function(){this.spawnCookies()},this)},this)}},{key:"createCtaArrow",value:function(){if(this.game.global.windowWidth>this.game.global.windowHeight){var e=this.game.add.sprite(0,0,"arrow-landscape");e.scale.x=this.width/e.width*.7,e.scale.y=e.scale.x,e.x=this.x-this.width-e.width/3,e.y=this.y+this.height/2-e.height/2;this.game.add.tween(e).to({x:e.x+.1*e.width},700,Phaser.Easing.Quadratic.Out,!0,0,0,!0).loop()}else{var e=this.game.add.sprite(0,0,"arrow-portrait");e.scale.x=this.width/e.width*.45,e.scale.y=e.scale.x,e.x=this.x+this.width/2-e.width/2,e.y=this.y-this.height-e.height/1.9;this.game.add.tween(e).to({y:e.y+.1*e.height},700,Phaser.Easing.Quadratic.Out,!0,0,0,!0).loop()}}},{key:"solveWordOnCta",value:function(){this.button.loadTexture("cta",0,!1)}},{key:"spawnStars",value:function(){for(var e=0;e<30;e++){var t=new Phaser.Sprite(this.game,0,0,"star-particle");this.fxLayer.add(t),t.anchor.set(.5),t.scale.x=this.button.width/t.width*(.4*Math.random()),t.scale.y=t.scale.x,t.x=this.button.x+Math.random()*this.button.width/2*(Math.random()>.5?1:-1),t.y=this.button.y,t.alpha=0;var i=t.scale.x,a=t.y,n=t.x,o=.3;this.game.global.windowWidth>this.game.global.windowHeight?o=.75:this.game.global.windowWidth>=768&&(o=.5);var r=n+this.button.width*o*(Math.random()>.5?1:-1),s=7.25;this.game.global.windowWidth>this.game.global.windowHeight?(s=4.25,this.game.global.windowWidth>=768&&(s=6)):this.game.global.windowWidth>=768&&(s=9);var l=a-Math.random()*this.button.height*s,c=i*Math.random(),h=5*e+600,u=1200*Math.random()+2e3;d.starFloatWithDelayCustom2(this.game,t,r,l,c,u,h,Phaser.Easing.Quadratic.Out)}this.game.world.bringToTop(this.fxLayer),this.game.world.bringToTop(this.ctaLayer),this.game.world.bringToTop(this.winMessage),this.game.world.bringToTop(this.logo)}},{key:"spawnCookies",value:function(){for(var e=0;e<4;e++){var t=new Phaser.Sprite(this.game,0,0,"star-particle");t.scale.x=.15*this.button.width*(.25*Math.random()+.5)/t.width,t.scale.y=t.scale.x,t.anchor.set(.5),t.x=this.game.global.windowWidth*Math.random()*window.devicePixelRatio,t.y=this.game.global.windowHeight*Math.random()*window.devicePixelRatio,t.angle=90*Math.random()-45;d.spawnAndFalling(this.game,t,7e3+100*Math.random(),800*e,Phaser.Easing.Quadratic.InOut),this.fxLayer.add(t)}}},{key:"showDecos",value:function(){var e=new Phaser.Sprite(this.game,0,0,"deco1");this.add(e);var t=new Phaser.Sprite(this.game,0,0,"deco2");this.add(t);var i=new Phaser.Sprite(this.game,0,0,"deco3");this.add(i),c.fitInContainer(e,"deco-01"),c.fitInContainer(t,"deco-02"),c.fitInContainer(i,"deco-03");var a=e.y,n=t.x,o=i.x;e.y-=e.height,t.x+=t.width,i.x-=i.width,this.game.add.tween(e).to({y:a},1e3,Phaser.Easing.Quadratic.InOut,!0,0),this.game.add.tween(t).to({x:n},1100,Phaser.Easing.Quadratic.InOut,!0,0),this.game.add.tween(i).to({x:o},1200,Phaser.Easing.Quadratic.InOut,!0,0)}}]),t}(Phaser.Group);i.default=p},{"../utils/animations-util":17,"../utils/auto-localisation-util":18,"../utils/container-util":19,"../utils/custom-png-sequences-renderer.js":20}],9:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=function(e){function t(e){a(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.graphics=e.add.graphics(0,0),null!=PiecSettings.finalOverlay&&null!=PiecSettings.finalOverlay.color?i.graphics.beginFill(PiecSettings.finalOverlay.color,1):i.graphics.beginFill(0,1),i.graphics.drawRect(0,0,i.game.global.windowWidth*window.devicePixelRatio,i.game.global.windowHeight*window.devicePixelRatio),i.add(i.graphics),null!=PiecSettings.finalOverlay&&null!=PiecSettings.finalOverlay.alpha?i.finalAlpha=PiecSettings.finalOverlay.alpha:i.finalAlpha=.4,i.alpha=i.finalAlpha,i.alpha=0,i}return o(t,e),r(t,[{key:"show",value:function(){this.game.add.tween(this).to({alpha:this.finalAlpha},500,Phaser.Easing.Sinusoidal.In,!0,200)}},{key:"hide",value:function(){if(this.alpha>0){this.game.add.tween(this).to({alpha:0},300,Phaser.Easing.Quadratic.In,!0,0)}}}]),t}(Phaser.Group);i.default=s},{}],10:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=e("../utils/container-util"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(s),c=function(e){function t(e,i,o){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.wordGrid=o,r.cookiePan=i,r.createButton(),r.alpha=0,r}return o(t,e),r(t,[{key:"createButton",value:function(){this.button=new Phaser.Sprite(this.game,0,0,"hint-button"),this.add(this.button),this.button.inputEnabled=!0,this.button.input.useHandCursor=!0,this.button.events.onInputDown.add(function(){var e=this.wordGrid.getCompletedWordNum(),t=e;this.cookiePan.handFollowWord(PiecSettings.hint[t])},this),l.fitInContainer(this,"hint-button",.5,.5)}},{key:"show",value:function(){this.game.add.tween(this).to({alpha:1},200,Phaser.Easing.Quadratic.InOut,!0,0)}},{key:"animate",value:function(){this.game.add.tween(this).to({alpha:0},200,Phaser.Easing.Quadratic.InOut,!0,0)}}]),t}(Phaser.Group);i.default=c},{"../utils/container-util":19}],11:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=e("../utils/container-util"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(s),c=function(e){function t(e,i){a(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.logo=new Phaser.Sprite(o.game,0,0,"logo"),o.add(o.logo),o.logo.alpha=0,l.fitInContainer(o.logo,"logo",.5,.5),o}return o(t,e),r(t,[{key:"animate",value:function(){this.logo.alpha=1;var e=this.logo.scale.x,t=this.logo.y;this.logo.scale.x=.01,this.logo.scale.y=.01,this.game.add.tween(this.logo.scale).to({x:e,y:e},1e3,Phaser.Easing.Back.Out,!0,0),this.logo.y+=200,this.game.add.tween(this.logo).to({y:t},600,Phaser.Easing.Quadratic.Out,!0,0)}}]),t}(Phaser.Group);i.default=c},{"../utils/container-util":19}],12:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=e("../utils/util"),c=(a(l),e("../utils/container-util")),h=a(c),d=e("../utils/animations-util"),u=a(d),g=e("../utils/custom-png-sequences-renderer.js"),f=(a(g),function(e){function t(e){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),s(t,[{key:"showWinMessage",value:function(){var e=h.getContainerHeight("win-message")||100,t=PiecSettings.fontFamily,i=["#fff"],a={font:"bold "+e+"px "+t,align:"center",wordWrap:!0};this.winMessage=new Phaser.Text(this.game,0,0,"LEVEL\nCOMPLETE",a),h.fitInContainer(this.winMessage,"win-message",.5,.5),this.winMessage.angle=10;var n=this.winMessage.context.createLinearGradient(0,0,0,this.winMessage.height);if(void 0!==i&&i.length>0)for(var o=0;o<i.length;o++){var r=o/i.length;n.addColorStop(r,i[o])}this.winMessage.fill=n,this.add(this.winMessage);var s=this.winMessage.scale.x;this.game.add.tween(this.winMessage).to({angle:0},600,Phaser.Easing.Back.Out,!0,200),this.winMessage.scale.x=.01*s,this.winMessage.scale.y=.01*s,this.game.add.tween(this.winMessage.scale).to({x:s,y:s},500,Phaser.Easing.Back.Out,!0,0),this.game.time.events.add(900,function(){this.game.add.tween(this.winMessage.scale).to({x:3*s,y:3*s},500,Phaser.Easing.Back.In,!0,0),this.game.add.tween(this.winMessage).to({alpha:[1,0],angle:-10},500,Phaser.Easing.Back.In,!0,0)},this)}},{key:"spawnStars",value:function(e){for(var t=0;t<50;t++){var i=Math.random()>.4?"confetti-1":"confetti-2",a=new Phaser.Sprite(this.game,0,0,i),n=h.getContainerWidth(e),o=h.getContainerX(e),r=h.getContainerY(e);this.add(a),a.anchor.set(.5),a.scale.x=.3*n/a.width*Math.random(),a.scale.y=a.scale.x,a.x=o,a.y=r,a.alpha=0;var s=a.scale.x,l=a.y,c=a.x,d=360*Math.random(),g=.5*(n+n*Math.random()),f=g*Math.cos(d*Math.PI/180)+c,p=g*Math.sin(d*Math.PI/180)+l,m=s*Math.random(),w=10*t,y=300*Math.random()+300;u.burstAndFalling(this.game,a,f,p,c,l,m,y,w)}}}]),t}(Phaser.Group));i.default=f},{"../utils/animations-util":17,"../utils/container-util":19,"../utils/custom-png-sequences-renderer.js":20,"../utils/util":21}],13:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=e("../utils/container-util"),c=a(l),h=e("../utils/animations-util"),d=a(h),u=e("../utils/custom-png-sequences-renderer.js"),g=a(u),f=function(e){function t(e,i){n(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.cta=i,a.game.global.inputLocked=!1,a.targetWords={},a.correctWords={},a.categoryTitle=a.createTitle(),a.createPlaceHolder(),a.fxLayer=new Phaser.Group(a.game),a.game.world.bringToTop(a.fxLayer),a.fxLayer.x=a.x,a.fxLayer.y=a.y,a.fxLayer.scale.x=a.scale.x,a.fxLayer.scale.y=a.scale.y,a.completedWords=0,a.idleAnimate(a.targetWords[PiecSettings.goals[a.completedWords]]),a}return r(t,e),s(t,[{key:"createTitle",value:function(){var e=c.getContainerHeight("game-category"),t=PiecSettings.fontFamily,i=["#fff"],a={font:"bold "+e+"px "+t},n=new Phaser.Text(this.game,0,0,PiecSettings.gameCategory,a);c.fitInContainer(n,"game-category",.5,.5);var o=n.context.createLinearGradient(0,0,0,n.height);if(void 0!==i&&i.length>0)for(var r=0;r<i.length;r++){var s=r/i.length;o.addColorStop(s,i[r])}return n.fill=o,this.add(n),n}},{key:"animateTitle",value:function(){var e=this.categoryTitle.x,t=this.categoryTitle.y,i=this.categoryTitle.scale.x;c.fitInContainer(this.categoryTitle,"game-category-start",.5,.5),this.categoryTitle.alpha=0,this.game.add.tween(this.categoryTitle).to({alpha:1},500,Phaser.Easing.Quadratic.InOut,!0,0),this.game.add.tween(this.categoryTitle).to({x:e,y:t},500,Phaser.Easing.Quadratic.InOut,!0,1e3),this.game.add.tween(this.categoryTitle.scale).to({x:[1.2*i,i],y:[1.2*i,i]},800,Phaser.Easing.Quadratic.InOut,!0,1e3)}},{key:"createPlaceHolder",value:function(){for(var e=0;e<PiecSettings.goals.length;e++){var t=new Phaser.Group(this.game),i="tiles-area-"+(e+1),a=c.getContainerHeight(i),n=PiecSettings.goals[e].length,o=this.createCorrectWords(i,PiecSettings.goals[e]);this.correctWords[PiecSettings.goals[e]]=o;for(var r=0;r<n;r++){var s=this.game.add.graphics(0,0);s.beginFill("0xd370e03"),s.drawCircle(0,0,a),s.alpha=.5,s.x+=r*a+0+a/2,s.y+=a/2,s.key=PiecSettings.goals[e].charAt(r),t.add(s)}c.fitInContainerHeight(t,i),t.alpha=0,this.game.add.tween(t).to({alpha:1},1e3,Phaser.Easing.Quadratic.InOut,!0,1e3+100*e),this.targetWords[PiecSettings.goals[e]]=t}}},{key:"idleAnimate",value:function(e){for(var t=0;t<e.children.length;t++){var i=e.children[t].scale.x;this.game.add.tween(e.children[t].scale).to({x:[.9*i,i],y:[.9*i,i]},500,Phaser.Easing.Linear.InOut,!0,100*t).repeat(-1,2e3)}}},{key:"getPlaceHoldersCoordinates",value:function(e,t){return{x:this.targetWords[e].x+this.targetWords[e].children[t].x,y:this.targetWords[e].y+this.targetWords[e].children[t].y,w:this.targetWords[e].children[t].width,h:this.targetWords[e].children[t].height}}},{key:"createCorrectWords",value:function(e,t){var i=new Phaser.Group(this.game),a=new Phaser.Sprite(this.game,0,0,"wordGrid-bg");a.anchor.set(.5),c.fitInContainerHeight(a,e,.5,.5),i.add(a);var n=.8*i.height,o=PiecSettings.fontFamily,r=["#fff"],s={font:n+"px "+o},l=new Phaser.Text(this.game,0,0,t,s);l.anchor.set(.5),l.x=a.x,l.y=a.y;var h=l.context.createLinearGradient(0,0,0,l.height);if(void 0!==r&&r.length>0)for(var d=0;d<r.length;d++){var u=d/r.length;h.addColorStop(u,r[d])}return l.fill=h,l.bringToTop(),i.add(l),this.add(i),i.alpha=0,i}},{key:"turnGrid",value:function(e){var t=this.targetWords[e];this.game.add.tween(t).to({alpha:0},500,Phaser.Easing.Linear.None,!0,100).onComplete.add(function(){this.game.global.tutorialCanceled=!1,++this.completedWords==PiecSettings.goals.length?this.game.onBoardComplete.dispatch():this.idleAnimate(this.targetWords[PiecSettings.goals[this.completedWords]])},this);var i=this.correctWords[e],a=i.children[0],n=i.children[1];this.spawnStars(a);var o=a.scale.x,r=n.scale.x;this.game.add.tween(i).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,0),this.game.add.tween(a.scale).to({x:[1.25*o,o],y:[1.25*o,o]},500,Phaser.Easing.Linear.None,!0,0),this.game.add.tween(n.scale).to({x:[1.25*r,r],y:[1.25*r,r]},500,Phaser.Easing.Linear.None,!0,0)}},{key:"getCompletedWordNum",value:function(){return this.completedWords}},{key:"createWords",value:function(){this.accrossWords=this.createWordsAccross(),this.downWords=this.createWordsDown()}},{key:"preFillWords",value:function(){for(var e=0;e<PiecSettings.preFilledWords.length;e++)if(this.wordsToBoxCookies[PiecSettings.preFilledWords[e]])for(var t=this.wordsToBoxCookies[PiecSettings.preFilledWords[e]],i=0;i<t.length;i++)this.revealBoxCookieNoAnimation(t[i])}},{key:"playAnimationOnWord",value:function(e,t){for(var i=0;i<PiecSettings.words[e].length;i++){var a=this.words[e][i];if(i==t){var n=g.playPngSequence(this.game,PiecSettings.pngAnimations[0],this.fxLayer);n.anchor.set(.5),n.scale.x=a.letterBackground.width/n.width*3,n.scale.y=n.scale.x,n.x=a.x+a.letterBackground.width/2,n.y=a.y+a.letterBackground.height/2,a.letterText.alpha=1}else this.burstBlueWithDelay(a,150*Math.abs(t-i)+500)}}},{key:"playRedAnimationOnWord",value:function(e,t){for(var i=0;i<PiecSettings.words[e].length;i++){var a=this.words[e][i];this.turnLetterRedWithDelay(a,50*Math.abs(t-i)+300),this.removeRedFromLetterWithDelay(a,50*Math.abs(t-i)+300+800),this.deleteLetter(a,1e3)}this.game.time.events.add(1500,function(){this.moveCursorToBeginningOfWord(e),this.game.global.inputLocked=!1},this)}},{key:"turnLetterRedWithDelay",value:function(e,t){this.game.time.events.add(t,function(){e.letterBackground.loadTexture("tile-wrong",0,!1),"?"==PiecSettings.wordsLettersMissing[e.xCoord][e.yCoord]&&(e.letterText.fill="#9D9CC7",e.letterText.alpha=1)},this)}},{key:"removeRedFromLetterWithDelay",value:function(e,t){this.game.time.events.add(t,function(){e.letterBackground.loadTexture(this.getTileImage(e.xCoord,e.yCoord),0,!1)},this)}},{key:"deleteLetter",value:function(e,t){this.game.time.events.add(t,function(){"?"==PiecSettings.wordsLettersMissing[e.xCoord][e.yCoord]&&(e.letterText.text="")},this)}},{key:"burstWithDelayOnPosition",value:function(e,t,i,a,n){this.game.time.events.add(e,function(){var e=g.playPngSequence(this.game,t,this.fxLayer);e.anchor.set(.5),e.scale.x=n,e.scale.y=n,e.x=i,e.y=a},this),this.game.world.bringToTop(this.fxLayer)}},{key:"burstWithDelay",value:function(e,t,i){this.game.time.events.add(t,function(){var a=g.playPngSequence(this.game,i,this.fxLayer);a.anchor.set(.5),a.scale.x=e.letterBackground.width/a.width*3.65,a.scale.y=a.scale.x,a.x=e.x+e.letterBackground.width/2,a.y=e.y+e.letterBackground.height/2,this.game.time.events.add(t/2,function(){e.letterText.alpha=1},this)},this)}},{key:"burstBlueWithDelay",value:function(e,t){this.burstWithDelay(e,t,PiecSettings.pngAnimations[1])}},{key:"burstYellowWithDelay",value:function(e,t){this.burstWithDelay(e,t,PiecSettings.pngAnimations[2])}},{key:"danceVerticalLetters",value:function(){for(var e=0;e<this.words.length;e++)for(var t=0;t<this.words[e].length;t++)if("#"==PiecSettings.wordsColoring[e][t]){var i=this.words[e][t];this.danceLetter(i.letterText,1e3),this.burstWithDelay(i,150*Math.abs(Math.round((this.words.length-1)/2)-e)+500,PiecSettings.pngAnimations[2])}}},{key:"flyVerticalLetters",value:function(){for(var e=0,t=0;t<this.words.length;t++){for(var i=0;i<this.words[t].length;i++)if("#"==PiecSettings.wordsColoring[t][i]){var a=this.words[t][i],n=this.cta.button.x-this.cta.button.width/2+.1*this.cta.button.width+.1*this.cta.button.width*(e+1),o=this.cta.button.y-a.height/4;this.flyLetterWithDelay(a,n,o,50*e);this.burstWithDelayOnPosition(800+50*e,PiecSettings.pngAnimations[1],n,o,2.5)}e++}}},{key:"spawnStarsOnVerticalWord",value:function(){for(var e=0;e<this.words.length;e++)for(var t=0;t<this.words[e].length;t++)"#"==PiecSettings.wordsColoring[e][t]&&this.spawnStars(this.words[e][t])}},{key:"playAnimationOnBoard",value:function(){for(var e=0;e<this.words.length;e++)for(var t=0;t<this.words[e].length;t++){var i=this.words[e][t];"#"!=PiecSettings.wordsColoring[e][t]?this.burstYellowWithDelay(i,150*e+150*t):this.raiseLetter(i)}}},{key:"spawnStars",value:function(e){for(var t=0;t<20;t++){var i=Math.random()>.4?"star-particle":"spark-particle",a=new Phaser.Sprite(this.game,0,0,i);this.fxLayer.add(a),a.anchor.set(.5),a.scale.x=.3*e.width/a.width*Math.random(),a.scale.y=a.scale.x,a.x=e.x,a.y=e.y,a.alpha=0;var n=a.scale.x,o=a.y,r=a.x,s=360*Math.random(),l=.5*(e.width+e.width*Math.random()),c=l*Math.cos(s*Math.PI/180)+r,h=l*Math.sin(s*Math.PI/180)+o,u=n*Math.random(),g=10*t,f=300*Math.random()+1800;d.starFloatWithDelay(this.game,a,c,h,u,f,g)}}},{key:"animate",value:function(){for(var e=0;e<PiecSettings.goals.length;e++)for(var t=this.targetWords[PiecSettings.goals[e]].children,i=0;i<t.length;i++){var a=t[i];this.game.add.tween(a).to({alpha:0},1200,Phaser.Easing.Quadratic.InOut,!0,200)}this.game.add.tween(this).to({alpha:0},1200,Phaser.Easing.Quadratic.InOut,!0,200)}}]),t}(Phaser.Group);i.default=f},{"../utils/animations-util":17,"../utils/container-util":19,"../utils/custom-png-sequences-renderer.js":20}],14:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),r(t,[{key:"preload",value:function(){}},{key:"init",value:function(){PiecSettings.assetsDir="dev"===PiecSettings.env?"assets/":"";var e=this.game;e.onGameComplete=new Phaser.Signal,e.onCompleteLevel=new Phaser.Signal,e.onGridComplete=new Phaser.Signal,e.onWordComplete=new Phaser.Signal,e.onBoardComplete=new Phaser.Signal,"undefined"!=typeof piec&&(piec.lockGame=function(){e.global.locked=!0},piec.unlockGame=function(){e.global.locked=!1},piec.completeLevel=function(){e.onCompleteLevel.dispatch()},piec.destroyGame=function(){e.destroy()}),window.onresize=function(){e.scale.setGameSize(document.body.clientWidth*window.devicePixelRatio,document.body.clientHeight*window.devicePixelRatio),e.scale.refresh(),e.state.start("boot",!0,!1)}}},{key:"create",value:function(){this.init(),this.game.input.maxPointers=1,this.initGlobalVariables(),this.game.state.start("preloader"),this.game.onMoveStart=function(e){e.global.interactions++,PiecSettings&&PiecSettings.onMoveStart&&PiecSettings.onMoveStart(e.global.interactions)},this.game.onMoveComplete=function(e){PiecSettings&&PiecSettings.onMoveComplete&&PiecSettings.onMoveComplete(e.global.moveStats)}}},{key:"initGlobalVariables",value:function(){this.game.global={interaction:0,reelsSpinCompleted:0,isComplete:!1}}}]),t}(Phaser.State);i.default=s},{}],15:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),c=e("../prefabs/logo"),h=n(c),d=e("../prefabs/dark-overlay"),u=(n(d),e("../prefabs/background")),g=n(u),f=e("../prefabs/cta-button"),p=n(f),m=e("../prefabs/win-message"),w=n(m),y=e("../prefabs/word-grid"),b=n(y),v=e("../prefabs/cookie-pan"),x=n(v),P=e("../prefabs/cookie-word"),k=n(P),S=e("../prefabs/hint-button"),O=n(S),C=e("../utils/custom-png-sequences-renderer.js"),_=(a(C),e("../utils/animations-util")),T=a(_),E=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),l(t,[{key:"create",value:function(){this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.setUserScale(1/window.devicePixelRatio,1/window.devicePixelRatio,0,0),this.game.global.windowWidth=document.body.clientWidth,this.game.global.windowHeight=document.body.clientHeight,this.fxLayer=new Phaser.Group(this.game),this.background=new g.default(this.game),this.game.add.existing(this.background),this.game.onBoardComplete.add(this.onBoardComplete,this),this.ctaLayer=new Phaser.Group(this.game),this.game.add.existing(this.ctaLayer),this.winMessage=new w.default(this.game),this.game.add.existing(this.winMessage),this.logo=new h.default(this.game),this.game.add.existing(this.logo),this.cta=new p.default(this.game,this.ctaLayer,this.winMessage,this.logo),this.game.add.existing(this.cta),this.cookieWord=new k.default(this.game),this.game.add.existing(this.cookieWord),this.wordGrid=new b.default(this.game,this.cta),this.game.add.existing(this.wordGrid),this.cookiePan=new x.default(this.game,this.cookieWord,this.wordGrid),this.game.add.existing(this.cookiePan),this.wordGrid.animateTitle(),this.hintButton=new O.default(this.game,this.cookiePan,this.wordGrid),this.game.add.existing(this.hintButton),this.game.world.sendToBack(this.fxLayer),this.game.world.sendToBack(this.background),this.game.world.bringToTop(this.ctaLayer),this.game.time.events.loop(5e3,function(){this.spawnCookies()},this),this.game.world.bringToTop(this.cookiePan),this.game.world.bringToTop(this.winMessage),this.game.world.bringToTop(this.logo);this.game.time.events.add(2500,function(){this.game.global.tutorialCanceled||this.cookiePan.handFollowWord(PiecSettings.hint[0])},this),this.game.time.events.add(3e3,function(){this.hintButton.show()},this),null!=PiecSettings.autoPlay&&(this.game.global.idleTimer=this.game.time.events.add(PiecSettings.autoPlay,function(){console.log(PiecSettings.autoPlay),this.endCard()},this)),void 0!==PiecSettings.timer&&PiecSettings.timer?this.game.time.events.add(PiecSettings.timerDuration,function(){document.getElementById("vungle-close").className=""},this):document.getElementById("vungle-close").className=""}},{key:"resize",value:function(){}},{key:"render",value:function(){}},{key:"spawnCookies",value:function(){for(var e=0;e<4;e++){var t=new Phaser.Sprite(this.game,0,0,"star-particle");t.scale.x=this.game.global.windowWidth*(Math.random()+1)*.1/t.width,t.scale.y=t.scale.x,t.anchor.set(.5),t.x=this.game.global.windowWidth*Math.random()*window.devicePixelRatio,t.y=this.game.global.windowHeight*Math.random()*window.devicePixelRatio,t.angle=90*Math.random()-45,t.alpha=.5+(Math.random()+.5);T.spawnAndFalling(this.game,t,7e3+100*Math.random(),1e3*e,Phaser.Easing.Quadratic.InOut),this.fxLayer.add(t),t.sendToBack()}}},{key:"onBoardComplete",value:function(){this.hintButton.animate(),this.winMessage.showWinMessage(),this.winMessage.spawnStars("celebration-1"),this.winMessage.spawnStars("celebration-2"),this.game.time.events.add(800,function(){this.wordGrid.animate(),this.game.time.events.add(400,function(){},this),this.game.time.events.add(1e3,function(){this.cta.animate(),this.game.time.events.add(200,function(){this.logo.animate()},this),void 0!==PiecSettings.asoi&&1==PiecSettings.asoi&&this.game.time.events.add(1e3,function(){doSomething("download")},this)},this)},this)}},{key:"endCard",value:function(){this.hintButton.animate(),this.wordGrid.animate(),this.cookiePan.animate(),this.cta.animate(),this.game.time.events.add(200,function(){this.logo.animate()},this)}}]),t}(Phaser.State);i.default=E},{"../prefabs/background":5,"../prefabs/cookie-pan":6,"../prefabs/cookie-word":7,"../prefabs/cta-button":8,"../prefabs/dark-overlay":9,"../prefabs/hint-button":10,"../prefabs/logo":11,"../prefabs/win-message":12,"../prefabs/word-grid":13,"../utils/animations-util":17,"../utils/custom-png-sequences-renderer.js":20}],16:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=e("../atlas/index"),c=(a(l),e("../utils/util")),h=(a(c),e("../animations.js")),d=(a(h),e("../utils/custom-png-sequences-renderer.js")),u=a(d),g=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.asset=null,e}return r(t,e),s(t,[{key:"preload",value:function(){this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources(),u.preloadPngSequences(this.game)}},{key:"update",value:function(){}},{key:"loadResources",value:function(){this.game.load.image("logo",PiecSettings.assetsDir+"logo.png"),this.game.load.image("background",PiecSettings.assetsDir+"bg.jpg"),this.game.load.image("cta",PiecSettings.assetsDir+"download.png"),this.game.load.image("cta-2",PiecSettings.assetsDir+"download-2.png"),this.game.load.image("hand",PiecSettings.assetsDir+"hand.png"),this.game.load.image("hint-button",PiecSettings.assetsDir+"hint.png"),this.game.load.image("letterBg",PiecSettings.assetsDir+"letter-bg.png"),this.game.load.image("letterHighlight",PiecSettings.assetsDir+"letter-highlight.png"),this.game.load.image("callout_amazing",PiecSettings.assetsDir+"callout_amazing.png"),this.game.load.image("callout_spectacular",PiecSettings.assetsDir+"callout_spectacular.png"),this.game.load.image("callout_bg",PiecSettings.assetsDir+"callout_bg.png"),this.game.load.image("confetti-1",PiecSettings.assetsDir+"confetti-1.png"),this.game.load.image("confetti-2",PiecSettings.assetsDir+"confetti-2.png"),this.game.load.image("wordGrid-bg",PiecSettings.assetsDir+"wordGrid-bg.png"),this.game.load.image("star-particle",PiecSettings.assetsDir+"star_particle.png"),this.game.load.image("spark-particle",PiecSettings.assetsDir+"spark_particle.png"),this.game.global.animations={},PiecSettings.animation=PiecSettings.animation||{}}},{key:"onLoadComplete",value:function(){this.game.state.start("endcard")}}]),t}(Phaser.State);i.default=g},{"../animations.js":1,"../atlas/index":2,"../utils/custom-png-sequences-renderer.js":20,"../utils/util":21}],17:[function(e,t,i){"use strict";function a(e,t){e.loopReverse&&(e.animations.currentAnim.isReversed=!0),0!=t.loopCount&&t.loopCount===e.numberOfLoops&&(e.persistent||(t.loop=!1,e.alpha=0))}function n(e,t,i,a,n){t.loopReverse=n,t.speed=a,t.loopReverse?e.time.events.add(i,function(){t.alpha=1,t.animations.play("animation",a,!1),t.animations.currentAnim.onComplete.add(o,this)}):e.time.events.add(i,function(){t.alpha=1,t.animations.play("animation",a,!0)})}function o(e,t){e.animations.currentAnim.isReversed=!e.animations.currentAnim.isReversed,e.animations.play("animation",e.speed,!1)}function r(e,t,i,o,r,s,l,c,h,d,u,g){for(var f=d.offsetWidth*window.devicePixelRatio,p=d.offsetHeight*window.devicePixelRatio,m=d.offsetLeft*window.devicePixelRatio,w=d.offsetTop*window.devicePixelRatio,y=f/100,b=p/100,v=[],x=0;x<t.length;x++){var P=u.add.sprite(m+t[x]*y,w+i[x]*b,e);g.add(P),P.anchor.set(s),P.animations.add("animation"),P.alpha=0,P.persistent=h,n(u,P,o[x],l,!1),P.scale.x=f*c[x]/100/P.width,P.scale.y=P.scale.x,v.push(P),null!=r&&(P.numberOfLoops=r[x],P.animations.currentAnim.onLoop.add(a,this))}return v}function s(e,t,i,a,n,o){var r=t.scale.x;t.scale.x=.01,t.scale.y=.01,e.time.events.add(a,function(){e.add.tween(t.scale).to({x:r,y:r},i,Phaser.Easing.Back.Out,!0,0).onComplete.add(function(){e.time.events.add(n,function(){e.add.tween(t).to({alpha:0},i,Phaser.Easing.Quadratic.In,!0,0).onComplete.add(function(){t.destroy()},this)},this)},this)},this)}function l(e,t,i,a,n){t.y=-100-100*Math.random();var o=1.1*e.global.windowHeight*window.devicePixelRatio,r=e.global.windowWidth*window.devicePixelRatio*.5*Math.random(),s=360+360*Math.random()*2;return e.add.tween(t).to({x:[r*(1+Math.random())],y:o,angle:s},i,n,!0,a).onComplete.add(function(){t.destroy()},this)}function c(e,t,i,a,n,o,r,s){e.time.events.add(r,function(){t.alpha=1,e.add.tween(t).to({y:a,x:i},o,s,!0,0),e.add.tween(t.scale).to({x:n,y:n},o,s,!0,0)},this),e.time.events.add(9e3+r,function(){e.add.tween(t).to({alpha:0},1e3,Phaser.Easing.Quadratic.InOut,!0,0),e.time.events.add(1e3,function(){t.destroy()},this)},this)}function h(e,t,i,a,n,o,r,s){e.time.events.add(r,function(){t.alpha=0,e.add.tween(t).to({alpha:[.5,1,0],y:a,x:i,angle:180},o,s,!0,0),e.add.tween(t.scale).to({x:n,y:n},o,s,!0,0)},this)}function d(e,t,i,a,n,o,r){this.starFloatWithDelayCustom(e,t,i,a,n,o,r,Phaser.Easing.Quadratic.Out)}function u(e,t,i,a,n,o,r,s,l){var c=1.1*e.global.windowHeight*window.devicePixelRatio,h=(e.global.windowWidth,window.devicePixelRatio,Math.random(),2*i-n),d=360+360*Math.random()*2,u=2e3+1e3*Math.random();e.time.events.add(l,function(){t.alpha=0,e.add.tween(t).to({alpha:[.5,1],x:[i],angle:180+180*Math.random()},2*s,Phaser.Easing.Back.out,!0,0).onComplete.add(function(){e.add.tween(t).to({x:[h],angle:d},u,Phaser.Easing.Linear.Out,!0,l).onComplete.add(function(){},this)}),e.add.tween(t).to({y:[a]},s,Phaser.Easing.Back.out,!0,0).onComplete.add(function(){e.add.tween(t).to({y:[c]},u,Phaser.Easing.Linear.Out,!0,l).onComplete.add(function(){t.destroy()},this)}),e.add.tween(t.scale).to({x:r,y:r},s,Phaser.Easing.Quadratic.Out,!0,0)},this)}Object.defineProperty(i,"__esModule",{value:!0}),i.onLoop=a,i.playAnimation=n,i.onComplete=o,i.playAnimations=r,i.spawnAndDissapear=s,i.spawnAndFalling=l,i.starFloatWithDelayCustom2=c,i.starFloatWithDelayCustom=h,i.starFloatWithDelay=d,i.burstAndFalling=u},{}],18:[function(e,t,i){"use strict";function a(){var e;return navigator.userLanguage?(e=navigator.userLanguage,e=e.split("-")[0]):navigator.language?(e=navigator.language,e=e.split("-")[0]):e="en",e}function n(){null==r&&(r=a());var e;switch(r){case"ja":e="logo-JA.png";break;case"ko":e="logo-KO.png";break;case"zh":e="logo-CN.png";break;default:e="logo-EN.png"}return e}function o(){null==r&&(r=a());var e="DOWNLOAD",t=PiecSettings.fontFamily;switch(r){case"en":e="DOWNLOAD";break;case"ja":e="ダウンロード",t="asian";break;case"ko":e="다운로드",t="asian";break;case"zh":e="立即下载",t="asian";break;case"ru":e="Скачать",t="asian";break;case"de":e="Herunterladen";break;case"fr":e="Télécharger";break;case"it":e="Scarica";break;case"es":e="Descargar";break;case"pt":e="Baixar";break;case"ca":e="Descarregar";break;case"tr":e="Indir";break;case"nl":e="Download";break;case"sv":e="Ladda ner";break;case"id":e="Download";break;case"ro":e="Descărcare";break;case"ar":e="تحميل";break;case"uk":e="скачати";break;case"no":case"nb":case"nn":e="Nedlasting";break;case"he":e="הורד";break;case"ms":e="ഡൗൺലോഡ്";break;case"th":e="ดาวน์โหลด";break;case"pl":e="Pobierz";break;case"be":e="спампаваць";break;case"el":e="κατεβάστε";break;case"bg":e="изтегляне";break;case"da":e="Hent";break;case"sr":e="довнлоад";break;case"kk":
e="жүктеу";break;case"vi":e="Tải về",t="asian";break;case"hr":e="zbirka";break;case"km":e="ទាញយក";break;case"sq":e="Shkarko";break;case"sl":e="prenesi";break;case"lt":e="parsisiųsti";break;case"az":e="yükləyin";break;case"zu":e="ukulanda";break;case"ga":e="íoslódáil";break;case"is":e="sækja";break;case"hu":e="Letöltés";break;case"lv":e="lejupielādēt";break;case"ka":e="ჩამოტვირთვა";break;case"mt":e="niżżel";break;case"et":e="lae alla";break;case"ne":e="डाउनलोड";break;case"bn":e="ডাউনলোড";break;case"eu":e="deskargatu";break;case"fi":e="ladata"}return{text:e,font:t,lang:r}}Object.defineProperty(i,"__esModule",{value:!0}),i.getLocalisedLogo=n,i.getLocalisedCta=o;var r=null},{}],19:[function(e,t,i){"use strict";function a(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=document.getElementById(t),o=n.offsetWidth*window.devicePixelRatio,r=n.offsetHeight*window.devicePixelRatio,s=n.getBoundingClientRect().left*window.devicePixelRatio,l=n.getBoundingClientRect().top*window.devicePixelRatio;void 0!==e.anchor&&(e.anchor.x=i,e.anchor.y=a),e.x=s+o*i,e.y=l+r*a;var c=e.scale.x;e.scale.x=o/(e.width/e.scale.x),e.scale.y=e.scale.x,e.height>r&&(e.scale.x=c,e.scale.y=c,e.scale.y=r/(e.height/e.scale.y),e.scale.x=e.scale.y)}function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=document.getElementById(t),o=n.offsetWidth*window.devicePixelRatio,r=n.offsetHeight*window.devicePixelRatio,s=n.getBoundingClientRect().left*window.devicePixelRatio,l=n.getBoundingClientRect().top*window.devicePixelRatio;void 0!==e.anchor&&(e.anchor.x=i,e.anchor.y=a),e.x=s+o*i,e.y=l+r*a,e.scale.x=o/(e.width/e.scale.x),e.scale.y=e.scale.x}function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=document.getElementById(t),o=n.offsetWidth*window.devicePixelRatio,r=n.offsetHeight*window.devicePixelRatio,s=n.getBoundingClientRect().left*window.devicePixelRatio,l=n.getBoundingClientRect().top*window.devicePixelRatio;void 0!==e.anchor&&(e.anchor.x=i,e.anchor.y=a),e.x=s+o*i,e.y=l+r*a,e.scale.y=r/e.height,e.scale.x=e.scale.y}function r(e,t){n(e,t),e.x+=e.width/2,e.y+=e.height/2}function s(e){return document.getElementById(e).getBoundingClientRect().top*window.devicePixelRatio}function l(e){return document.getElementById(e).getBoundingClientRect().left*window.devicePixelRatio}function c(e){return document.getElementById(e).offsetWidth*window.devicePixelRatio}function h(e){return document.getElementById(e).offsetHeight*window.devicePixelRatio}function d(e,t){var i=document.getElementById(t),a=i.offsetWidth*window.devicePixelRatio;i.offsetHeight,window.devicePixelRatio;e.scale.x=a/e.width,e.scale.y=e.scale.x}function u(e,t,i,a,n,o,r){if(null==e||null===e.game)return null;var s=document.getElementById(t),l=s.offsetWidth*window.devicePixelRatio,c=l*e.anchor.x,h=s.getBoundingClientRect().left*window.devicePixelRatio+c,d=l/(e.width/e.scale.x),u=s.offsetHeight*window.devicePixelRatio,g=u*e.anchor.y,f=s.getBoundingClientRect().top*window.devicePixelRatio+g,p=e.game.add.tween(e).to({x:h,y:f},a,n,void 0===r||r,i);return e.game.add.tween(e.scale).to({x:d,y:d},a,n,void 0===r||r,i),o&&p.onComplete.add(o,this),p}Object.defineProperty(i,"__esModule",{value:!0}),i.bestFit=a,i.fitInContainer=n,i.fitInContainerHeight=o,i.fitInContainerAnchorAtCenter=r,i.getContainerY=s,i.getContainerX=l,i.getContainerWidth=c,i.getContainerHeight=h,i.resizeToSizeOfContainer=d,i.moveToContainer=u},{}],20:[function(e,t,i){"use strict";function a(e){if(null!=PiecSettings.pngAnimations)for(var t=0;t<PiecSettings.pngAnimations.length;t++){var i=PiecSettings.pngAnimations[t];n(e,i)}}function n(e,t){var i=t.src.substr(0,t.src.indexOf("."));e.load.spritesheet(i,PiecSettings.assetsDir+t.src,t.spriteWidth,t.spriteHeight,t.spriteNumber)}function o(e,t,i){var a=t.src.substr(0,t.src.indexOf("."));if(null!=t.htmlContainer)var n=document.getElementById(t.htmlContainer),o=n.offsetWidth*window.devicePixelRatio,r=(n.offsetHeight,window.devicePixelRatio,n.getBoundingClientRect().left*window.devicePixelRatio),l=n.getBoundingClientRect().top*window.devicePixelRatio;var c=e.add.sprite(r,l,a);if(i.add(c),c.animations.add("animation"),c.anchor.set(0,0),c.alpha=0,null==t.loopReverse&&(t.loopReverse=!1),null!=t.isReversed&&t.isReversed&&(c.animations.currentAnim.isReversed=!0),s.playAnimation(e,c,t.delay,t.fps,t.loopReverse),null!=t.angle&&0!=t.angle){var h=0;this.game.global.windowWidth>this.game.global.windowHeight&&null!=t.responsiveAngle&&t.responsiveAngle&&(h=90),c.anchor.set(.5),c.angle=t.angle+h}if(null!=t.htmlContainer&&(c.scale.x=o/c.width,c.scale.y=c.scale.x,c.persistent=!1),null!=t.loops&&(c.numberOfLoops=t.loops,c.animations.currentAnim.onLoop.add(s.onLoop,this)),null!=t.effect&&-1!=t.effect.indexOf("fade-in")){c.alpha=0;e.add.tween(c).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,t.delay)}return c}Object.defineProperty(i,"__esModule",{value:!0}),i.preloadPngSequences=a,i.playPngSequence=o;var r=e("../utils/animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(r)},{"../utils/animations-util.js":17}],21:[function(e,t,i){"use strict";function a(e,t){return t||(t=0),Math.floor(Math.random()*(e-t+1))+t}function n(e){return e[this.rndInt(e.length-1,0)]}function o(e){return e||(e=1),"rgba("+this.rndInt(256)+","+this.rndInt(256)+","+this.rndInt(256)+","+e+")"}function r(){return this.game.global.windowHeight>this.game.global.windowWidth}function s(e){return JSON.parse(JSON.stringify(e))}function l(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}function c(e){return-1===e.lastIndexOf(".")?e:e.substring(0,e.lastIndexOf("."))}function h(e){e.style.opacity=0;var t=+new Date;!function i(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}function d(e){return 100*Math.sqrt(2*Math.abs(e)/w)}function u(e){var t={boolean:{},number:{},string:{}},i=[];return e.filter(function(e){var a=void 0===e?"undefined":m(e);return a in t?!t[a].hasOwnProperty(e)&&(t[a][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)})}function g(e,t){var i,a={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function f(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function p(e){for(var t="",i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)t+=e[i][a].key||"-";t+="\n"}console.log(t)}Object.defineProperty(i,"__esModule",{value:!0});var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.rndInt=a,i.sample=n,i.rndRgba=o,i.isPortrait=r,i.clone=s,i.remove=l,i.removeExtension=c,i.fadeIn=h,i.calcQuadTime=d,i.uniq=u,i.extend=g,i.numberWithCommas=f,i.printTwoLevelArray=p;var w=19.8},{}]},{},[4]);
