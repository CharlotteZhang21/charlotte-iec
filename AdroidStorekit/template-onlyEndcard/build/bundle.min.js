!function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return a(n||e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./pieces.js"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);n.default={pieces:a.default}},{"./pieces.js":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={frames:{blue:{frame:{x:152,y:1,w:151,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:151,h:161},sourceSize:{w:151,h:161}},blue_p:{frame:{x:156,y:164,w:151,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:151,h:161},sourceSize:{w:151,h:161}},donut:{frame:{x:609,y:164,w:181,h:149},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:181,h:149},sourceSize:{w:181,h:149}},green:{frame:{x:460,y:327,w:149,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:149,h:161},sourceSize:{w:149,h:161}},macaron:{frame:{x:610,y:1,w:148,h:155},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:148,h:155},sourceSize:{w:148,h:155}},marshmallow:{frame:{x:305,y:1,w:151,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:151,h:161},sourceSize:{w:151,h:161}},orange:{frame:{x:156,y:327,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},orange_p:{frame:{x:308,y:327,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},popcorn:{frame:{x:461,y:164,w:146,h:161},rotated:!1,trimmed:!0,spriteSourceSize:{x:2,y:0,w:146,h:161},sourceSize:{w:151,h:161}},pudding:{frame:{x:611,y:315,w:159,h:153},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:159,h:153},sourceSize:{w:159,h:153}},purple:{frame:{x:1,y:165,w:153,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:153,h:161},sourceSize:{w:153,h:161}},purple_p:{frame:{x:1,y:328,w:153,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:153,h:161},sourceSize:{w:153,h:161}},red:{frame:{x:309,y:164,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},red_p:{frame:{x:458,y:1,w:150,h:161},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:161},sourceSize:{w:150,h:161}},yellow:{frame:{x:1,y:1,w:149,h:162},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:149,h:162},sourceSize:{w:149,h:162}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"tiles.png",format:"RGBA8888",size:{w:791,h:490},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:a52266418105fd394661db76f76d6094:5da80af01517e173c5b36dd3086b03ba:accbe1e7e294ded8391337fc1c446319$"}}},{}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=e("./states/boot"),o=i(a),r=e("./states/endcard"),s=i(r),c=e("./states/preloader"),l=i(c),u=new Phaser.Game(document.body.clientWidth*window.devicePixelRatio,document.body.clientHeight*window.devicePixelRatio,Phaser.CANVAS,"game",null,!0);u.state.add("boot",new o.default),u.state.add("endcard",new s.default),u.state.add("preloader",new l.default),u.state.start("boot")},{"./states/boot":7,"./states/endcard":8,"./states/preloader":9}],4:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("../utils/container-util"),l=i(c),u=e("../utils/animations-util"),d=(i(u),e("../utils/custom-png-sequences-renderer.js")),h=(i(d),e("../utils/util")),f=i(h),g=function(e){function t(e,n){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return void 0!==n.OSsensitive&&1==n.OSsensitive&&(n.src=f.getDeviceOS()+"-"+n.src),i.args=n,i.initSignals(),void 0!==n.src&&""!=n.src?i.createButton(n):i.createInteractiveArea(n),i.button.inputEnabled=!0,i.button.input.useHandCursor=!0,i.button.events.onInputDown.add(function(){this.game.onSDKCall.dispatch(),this.game.time.events.add(50,function(){parent.postMessage("download","*")},this)},i),i.game.world.bringToTop(i),i.hide(),i.anchor=[],i.anchor.x=i.args.anchor.x,i.anchor.y=i.args.anchor.y,i}return r(t,e),s(t,[{key:"createButton",value:function(e){this.button=new Phaser.Sprite(this.game,0,0,e.src),this.button.x-=this.button.width*this.args.anchor.x,this.button.y-=this.button.height*this.args.anchor.y,this.add(this.button),this.button.bringToTop(),l.fitInContainer(this,e.container,this.args.anchor.x,this.args.anchor.y)}},{key:"createInteractiveArea",value:function(e){var t=new Phaser.Graphics(this.game,0,0);t.beginFill(16777215,0),t.drawRect(-l.getContainerWidth(e.container)*this.args.anchor.x,-l.getContainerHeight(e.container)*this.args.anchor.y,l.getContainerWidth(e.container),l.getContainerHeight(e.container)),this.button=t,this.add(this.button),l.fitInContainer(this,e.container,this.args.anchor.x,this.args.anchor.y)}},{key:"initSignals",value:function(){this.onInteract=new Phaser.Signal}},{key:"show",value:function(){this.alpha<1&&(this.alpha=1),this.button.inputEnabled=!0}},{key:"hide",value:function(){this.alpha>0&&(this.alpha=0),this.button.inputEnabled=!1}},{key:"enable",value:function(){this.button.inputEnabled||(this.button.inputEnabled=!0)}},{key:"disable",value:function(){this.button.inputEnabled&&(this.button.inputEnabled=!1)}},{key:"fitInContainer",value:function(e){l.fitInContainer(this,e,this.anchor.x,this.anchor.y)}}]),t}(Phaser.Group);n.default=g},{"../utils/animations-util":10,"../utils/container-util":11,"../utils/custom-png-sequences-renderer.js":12,"../utils/util":14}],5:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("../utils/container-util"),l=i(c),u=e("../utils/util"),d=i(u),h=function(e){function t(e,n){a(this,t);void 0!==n.OSsensitive&&1==n.OSsensitive&&(n.src=d.getDeviceOS()+"-"+n.src);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,0,n.src));return l.fitInContainer(i,n.container,n.anchor.x,n.anchor.y),i.game.add.existing(i),i.currentContainer=n.container,i.alpha=0,i}return r(t,e),s(t,[{key:"show",value:function(){this.alpha<1&&(this.alpha=1)}},{key:"hide",value:function(){this.alpha>0&&(this.alpha=0)}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"fitInContainer",value:function(e){l.fitInContainer(this,e,this.anchor.x,this.anchor.y)}}]),t}(Phaser.Sprite);n.default=h},{"../utils/container-util":11,"../utils/util":14}],6:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("../utils/container-util"),l=i(c),u=e("../utils/tweener"),d=(i(u),e("../utils/util")),h=i(d),f=function(e){function t(e,n){a(this,t);var i=(n.text,l.getContainerHeight(n.container)||10),r={font:n.style.fontWeight+" "+i+"px "+n.style.fontFamily+","+PiecSettings.genericFontFamily},s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,0,n.text,r)),c=s.context.createLinearGradient(0,0,0,s.height);if(void 0!==n.style.color&&n.style.color.length>0)for(var u=0;u<n.style.color.length;u++){var d=u/n.style.color.length;c.addColorStop(d,n.style.color[u])}if(s.fill=c,void 0!==n.style.stroke&&(s.stroke=n.style.stroke),void 0!==n.style.strokeThickness&&(s.strokeThickness=n.style.strokeThickness),void 0!==n.style.shadow){var h=n.style.shadow;s.setShadow(h.x,h.y,h.color,h.blur,h.shadowStroke,h.shadowFill)}return s.game.add.existing(s),s.currentContainer=n.container,s.alpha=0,void 0!==n.autolocalise&&1==n.autolocalise&&void 0!==PiecSettings.translations[s.text]?s.autolocalise():s.text=" "+s.text+" ",void 0!==n.style.fontCase&&"uppercase"==n.style.fontCase&&(s.text=s.text.toUpperCase(),s.game.time.events.add(50,function(){this.text=this.text.toUpperCase()},s)),l.bestFit(s,n.container,n.anchor.x,n.anchor.y),s}return r(t,e),s(t,[{key:"show",value:function(){this.alpha<1&&(this.alpha=1)}},{key:"hide",value:function(){this.alpha>0&&(this.alpha=0)}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"autolocalise",value:function(){var e=h.getDeviceLang();void 0!==PiecSettings.translations[this.text][e]&&(this.text=" "+PiecSettings.translations[this.text][e]+" ")}},{key:"fitInContainer",value:function(e){l.bestFit(this,e,this.anchor.x,this.anchor.y)}}]),t}(Phaser.Text);n.default=f},{"../utils/container-util":11,"../utils/tweener":13,"../utils/util":14}],7:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),r(t,[{key:"preload",value:function(){}},{key:"init",value:function(){PiecSettings.assetsDir="dev"===PiecSettings.env?"assets/":"";var e=this.game;e.onInteract=new Phaser.Signal,e.onSDKCall=new Phaser.Signal,e.onResize=new Phaser.Signal,"undefined"!=typeof piec&&(piec.lockGame=function(){e.global.locked=!0},piec.unlockGame=function(){e.global.locked=!1},piec.destroyGame=function(){e.destroy()},piec.onSDKCall=function(){e.onSDKCall.dispatch()},piec.onResize=function(){e.onResize.dispatch()}),window.onresize=function(){e.scale.setGameSize(document.body.clientWidth*window.devicePixelRatio,document.body.clientHeight*window.devicePixelRatio),e.scale.refresh(),e.state.start("boot",!0,!1)}}},{key:"create",value:function(){this.init(),this.game.input.maxPointers=1,this.initGlobalVariables(),this.game.state.start("preloader"),this.game.onMoveStart=function(e){e.global.interactions++,PiecSettings&&PiecSettings.onMoveStart&&PiecSettings.onMoveStart(e.global.interactions)},this.game.onMoveComplete=function(e){PiecSettings&&PiecSettings.onMoveComplete&&PiecSettings.onMoveComplete(e.global.moveStats)}}},{key:"initGlobalVariables",value:function(){this.game.global={interaction:0,gameComplete:!1,currentVideoScript:null}}}]),t}(Phaser.State);n.default=s},{}],8:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../prefabs/custom-sprite"),u=a(l),d=e("../prefabs/custom-text"),h=a(d),f=e("../prefabs/cta-button"),g=a(f),p=e("../utils/container-util"),m=(i(p),e("../utils/util")),w=i(m),v=e("../utils/tweener"),y=i(v),b=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),c(t,[{key:"create",value:function(){this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.setUserScale(1/window.devicePixelRatio,1/window.devicePixelRatio,0,0),this.game.global.windowWidth=document.body.clientWidth*window.devicePixelRatio,this.game.global.windowHeight=document.body.clientHeight*window.devicePixelRatio,this.game.onResize.add(this.resize,this),this.hudObjects={};var e;for(var t in PiecSettings.hudElements)e=PiecSettings.hudElements[t],PiecSettings.hudElements.hasOwnProperty(t)&&(void 0!==e.type&&"cta"==e.type?this.hudObjects[t]=new g.default(this.game,{src:e.src,container:e.htmlTag,anchor:e.anchor,OSsensitive:e.OSsensitive}):void 0!==e.src?this.hudObjects[t]=new u.default(this.game,{src:e.src,container:e.htmlTag,anchor:e.anchor,OSsensitive:e.OSsensitive}):void 0!==e.text&&(this.hudObjects[t]=new h.default(this.game,{text:e.text,container:e.htmlTag,anchor:e.anchor,style:e.style,autolocalise:e.autolocalise})),void 0==e.effects&&this.hudObjects[t].show());this.animate(this.hudObjects.darkOverlay,PiecSettings.hudElements.darkOverlay.effects,400),this.game.time.events.add(300,function(){var e="googleStoreScreenShot-";e+=w.isPortrait()?"portrait":"landscape",this.animate(this.hudObjects[e],PiecSettings.hudElements[e].effects),this.game.time.events.add(300,function(){this.animate(this.hudObjects["download-text"],PiecSettings.hudElements["download-text"].effects),this.animate(this.hudObjects["cta-bg"],PiecSettings.hudElements["cta-bg"].effects)},this)},this)}},{key:"animate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;switch(t){case"fadeIn":-1==n&&(n=300),e.tween=y.fadeIn(e,0,n,Phaser.Easing.Quadratic.InOut);break;case"fadeOut":-1==n&&(n=300),e.tween=y.fadeOut(e,0,n,Phaser.Easing.Quadratic.InOut);break;case"tap":e.tween=y.tap(e,0,0,700,Phaser.Easing.Quadratic.InOut);break;case"tapDown":e.tween=y.tap(e,-130,0,700,Phaser.Easing.Quadratic.InOut);break;case"quickTap":e.tween=y.quickTap(e,0,300,Phaser.Easing.Quadratic.InOut);break;case"slideInDown":e.tween=y.slideInDown(e,0,300,Phaser.Easing.Quadratic.InOut);break;case"slideInDownBack":e.tween=y.slideInDown(e,0,500,Phaser.Easing.Back.Out);break;case"slideInUp":e.tween=y.slideInUp(e,0,300,Phaser.Easing.Quadratic.InOut);break;case"slideInUpBack":e.tween=y.slideInUp(e,0,500,Phaser.Easing.Back.Out);break;case"slideInLeft":e.tween=y.slideInLeft(e,0,300,Phaser.Easing.Quadratic.InOut);break;case"slideInLeftBack":e.tween=y.slideInLeft(e,0,500,Phaser.Easing.Back.Out);break;case"slideInRight":e.tween=y.slideInRight(e,0,300,Phaser.Easing.Quadratic.InOut);break;case"slideInRightBack":e.tween=y.slideInRight(e,0,500,Phaser.Easing.Back.Out);break;case"pulse":e.tween=y.pulse(e,0,300,Phaser.Easing.Quadratic.InOut);break;case"pulseSlow":e.tween=y.pulse(e,0,500,Phaser.Easing.Quadratic.InOut);break;case"swipe":e.tween=y.swipe(e,0,600,Phaser.Easing.Quadratic.InOut,600);break;case"smallSwipeUpDown":e.tween=y.smallSwipeUpDown(e,0,600,Phaser.Easing.Quadratic.InOut);break;case"scaleIn":e.tween=y.scaleIn(e,0,900,Phaser.Easing.Elastic.Out);break;case"scaleOut":e.tween=y.scaleOut(e,0,500,Phaser.Easing.Elastic.In);break;case"rubberBand":e.tween=y.rubberBand(e,0,1e3,Phaser.Easing.Elastic.Out)}}},{key:"resize",value:function(){}},{key:"render",value:function(){}}]),t}(Phaser.State);n.default=b},{"../prefabs/cta-button":4,"../prefabs/custom-sprite":5,"../prefabs/custom-text":6,"../utils/container-util":11,"../utils/tweener":13,"../utils/util":14}],9:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("../atlas/index"),l=(i(c),e("../utils/util")),u=i(l),d=e("../utils/custom-png-sequences-renderer.js"),h=i(d),f=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.preloadAsset=!1,e.ready=!1,e}return r(t,e),s(t,[{key:"preload",value:function(){this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources()}},{key:"update",value:function(){this.ready&&this.game.state.start("endcard")}},{key:"loadResources",value:function(){this.loadInteractionImages(),this.loadCollectiblesImages(),this.loadHudElements(),this.loadMiniGamesImages(),h.preloadPngSequences(this.game),this.preloadAsset||this.onLoadComplete()}},{key:"loadInteractionImages",value:function(){for(var e in PiecSettings.script)if(PiecSettings.script.hasOwnProperty(e)){var t=PiecSettings.script[e];if(void 0!==t.interactions)for(var n=0;n<t.interactions.length;n++)void 0!==t.interactions[n].src&&""!=t.interactions[n].src&&(this.game.load.image(t.interactions[n].src,PiecSettings.assetsDir+t.interactions[n].src),this.preloadAsset=!0);void 0!==t.autoplay&&void 0!==t.autoplay.timer&&t.autoplay.timer&&(this.game.load.image("timer",PiecSettings.assetsDir+"timer.png"),this.game.load.image("timer-fill",PiecSettings.assetsDir+"timer_fill.png"),this.preloadAsset=!0)}}},{key:"loadCollectiblesImages",value:function(){var e=0;if(void 0!==PiecSettings.collectibles)for(var t in PiecSettings.collectibles)if(PiecSettings.collectibles.hasOwnProperty(t)){e++;var n=PiecSettings.collectibles[t];this.game.load.image(n.src,PiecSettings.assetsDir+n.src),this.loadCounterImages(n.counter)}e>0&&(this.game.load.image("cloud",PiecSettings.assetsDir+"cloud.png"),this.preloadAsset=!0)}},{key:"loadHudElements",value:function(){if(void 0!==PiecSettings.hudElements)for(var e in PiecSettings.hudElements)if(PiecSettings.hudElements.hasOwnProperty(e)){var t=PiecSettings.hudElements[e];if(void 0!==t.src&&""!=t.src){var n="";void 0!==t.OSsensitive&&1==t.OSsensitive&&(n=u.getDeviceOS()+"-"),this.game.load.image(n+t.src,PiecSettings.assetsDir+n+t.src),this.preloadAsset=!0}}}},{key:"loadMiniGamesImages",value:function(){if(void 0!==PiecSettings.minigames)for(var e in PiecSettings.minigames)if(PiecSettings.minigames.hasOwnProperty(e)){var t=PiecSettings.minigames[e];if(void 0!==t.src&&""!=t.src&&-1!=t.src.indexOf(".png")&&(this.game.load.image(t.src,PiecSettings.assetsDir+t.src),this.preloadAsset=!0),void 0!==t.objects&&t.objects.length>0)for(var n=0;n<t.objects.length;n++){var i=t.objects[n];-1!=i.src.indexOf(".png")&&(this.game.load.image(i.src,PiecSettings.assetsDir+i.src),this.preloadAsset=!0),void 0!==i.shadowSrc&&""!=i.shadowSrc&&(this.game.load.image(i.shadowSrc,PiecSettings.assetsDir+i.shadowSrc),this.preloadAsset=!0)}if(void 0!==t.particles&&void 0!==t.particles.src)for(var n=0;n<t.particles.src.length;n++)-1!=t.particles.src[n].indexOf(".png")&&(this.game.load.image(t.particles.src[n],PiecSettings.assetsDir+t.particles.src[n]),this.preloadAsset=!0);void 0!==t.followFinger&&void 0!==t.followFinger.src&&-1!=t.followFinger.src.indexOf(".png")&&(this.game.load.image(t.followFinger.src,PiecSettings.assetsDir+t.followFinger.src),this.preloadAsset=!0),this.loadCounterImages(t.counter)}}},{key:"loadCounterImages",value:function(e){void 0!==e&&(void 0!==e.iconSrc&&""!=e.iconSrc&&(this.game.load.image(e.iconSrc,PiecSettings.assetsDir+e.iconSrc),this.preloadAsset=!0),void 0!==e.backgroundSrc&&""!=e.backgroundSrc&&(this.game.load.image(e.backgroundSrc,PiecSettings.assetsDir+e.backgroundSrc),this.preloadAsset=!0),void 0!==e.fillSrc&&""!=e.fillSrc&&(this.game.load.image(e.backgroundSrc+"-fill",PiecSettings.assetsDir+e.fillSrc),this.preloadAsset=!0))}},{key:"onLoadComplete",value:function(){this.ready=!0}}]),t}(Phaser.State);n.default=f},{"../atlas/index":1,"../utils/custom-png-sequences-renderer.js":12,"../utils/util":14}],10:[function(e,t,n){"use strict";function i(e,t){e.loopReverse&&(e.animations.currentAnim.isReversed=!0),0!=t.loopCount&&t.loopCount==e.numberOfLoops&&(e.persistent||(e.alpha=0,t.loop=!1))}function a(e,t,n,i,a,s){if(t.loopReverse=a,t.speed=i,t.loopReverse)e.time.events.add(n,function(){t.alpha=1,t.animations.play("animation",i,!1),t.animations.currentAnim.onComplete.add(o,this)});else{var c=void 0!==s||s>=0;e.time.events.add(n,function(){t.alpha=1,t.animations.play("animation",i,c),c||t.animations.currentAnim.onComplete.add(r,this)})}}function o(e,t){e.animations.currentAnim.isReversed=!e.animations.currentAnim.isReversed,e.animations.play("animation",e.speed,!1)}function r(e,t){e.persistent||(e.alpha=0)}function s(e,t,n,o,r,s,c,l,u,d,h,f){for(var g=d.offsetWidth*window.devicePixelRatio,p=d.offsetHeight*window.devicePixelRatio,m=d.offsetLeft*window.devicePixelRatio,w=d.offsetTop*window.devicePixelRatio,v=g/100,y=p/100,b=[],x=0;x<t.length;x++){var P=h.add.sprite(m+t[x]*v,w+n[x]*y,e);f.add(P),P.anchor.set(s),P.animations.add("animation"),P.alpha=0,P.persistent=u,a(h,P,o[x],c,!1,r[x]),P.scale.x=g*l[x]/100/P.width,P.scale.y=P.scale.x,b.push(P),null!=r&&(P.numberOfLoops=r[x],P.animations.currentAnim.onLoop.add(i,this))}return b}function c(e,t,n,i,a,o){var r=t.scale.x;t.scale.x=.01,t.scale.y=.01,e.time.events.add(i,function(){e.add.tween(t.scale).to({x:r,y:r},n,Phaser.Easing.Back.Out,!0,0).onComplete.add(function(){e.time.events.add(a,function(){e.add.tween(t).to({alpha:0},n,Phaser.Easing.Quadratic.In,!0,0).onComplete.add(function(){t.destroy()},this)},this)},this)},this)}function l(e,t,n,i,a,o,r,s){e.time.events.add(r,function(){t.alpha=1,e.add.tween(t).to({y:i,x:n},o,s,!0,0),e.add.tween(t.scale).to({x:a,y:a},o,s,!0,0)},this),e.time.events.add(9e3+r,function(){e.add.tween(t).to({alpha:0},1e3,Phaser.Easing.Quadratic.InOut,!0,0),e.time.events.add(1e3,function(){t.destroy()},this)},this)}function u(e,t,n,i,a,o,r,s){e.time.events.add(r,function(){t.alpha=0,e.add.tween(t).to({alpha:[.5,1,0],y:i,x:n,angle:180},o,s,!0,0),e.add.tween(t.scale).to({x:a,y:a},o,s,!0,0)},this)}function d(e,t,n,i,a,o,r){this.starFloatWithDelayCustom(e,t,n,i,a,o,r,Phaser.Easing.Quadratic.Out)}function h(e,t,n,i,a,o){for(var r=Math.random()>.5?1:-1,s=50*Math.random()+30,c=0;c<20;c++){var l=new Phaser.Sprite(game,0,0,t);l.x=e.x,l.y=e.y,l.scale.x=e.x/1.5/l.width,l.scale.y=l.scale.x,l.alpha=0,l.anchor.set(.5);var u=l.scale.x,d=a+200*Math.random(),h=20*c+o,f=l.x;game.add.tween(l).to({x:[f+Math.random()*s*r,this.goal.getXCoordOfGoal(index)-Math.random()*s*r,this.goal.getXCoordOfGoal(index)],y:this.goal.getYCoordOfGoal(index),alpha:[1,1,1,1,0]},d,Phaser.Easing.Quadratic.InOut,!0,h).interpolation(function(e,t){return Phaser.Math.catmullRomInterpolation(e,t)}).onComplete.add(function(e){e.destroy()},this),game.add.tween(l.scale).to({x:[1.1*u,u,u,.5*u],y:[1.1*u,u,u,.5*u]},d,Phaser.Easing.Quadratic.InOut,!0,h),this.fxLayer.add(l)}}Object.defineProperty(n,"__esModule",{value:!0}),n.onLoop=i,n.playAnimation=a,n.onComplete=o,n.onCompleteNoLooping=r,n.playAnimations=s,n.spawnAndDissapear=c,n.starFloatWithDelayCustom2=l,n.starFloatWithDelayCustom=u,n.starFloatWithDelay=d,n.flyBubbleToGoal=h},{}],11:[function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(t);var o=document.getElementById(t),r=o.offsetWidth*window.devicePixelRatio,s=o.offsetHeight*window.devicePixelRatio,c=o.getBoundingClientRect().left*window.devicePixelRatio,l=o.getBoundingClientRect().top*window.devicePixelRatio;void 0!==e.anchor&&(e.anchor.x=n,e.anchor.y=i),e.x=c+r*n,e.y=l+s*i;var u=e.scale.x;e.scale.x=r/(e.width/e.scale.x),e.scale.y=e.scale.x,e.height>s&&(e.scale.x=u,e.scale.y=u,e.scale.y=s/(e.height/e.scale.y),e.scale.x=e.scale.y)}function a(e){null==document.getElementById(e)&&console.log("ERROR: Container Name "+e+" doesn't exist in the DOM")}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(t);var o=document.getElementById(t),r=o.offsetWidth*window.devicePixelRatio,s=o.offsetHeight*window.devicePixelRatio,c=o.getBoundingClientRect().left*window.devicePixelRatio,l=o.getBoundingClientRect().top*window.devicePixelRatio;void 0!==e.anchor&&(e.anchor.x=n,e.anchor.y=i),e.x=c+r*n,e.y=l+s*i,e.scale.x=r/(e.width/e.scale.x),e.scale.y=e.scale.x}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a(t);var o=document.getElementById(t),r=o.offsetWidth*window.devicePixelRatio,s=o.offsetHeight*window.devicePixelRatio,c=o.getBoundingClientRect().left*window.devicePixelRatio,l=o.getBoundingClientRect().top*window.devicePixelRatio;void 0!=e.anchor&&e.anchor.set(n,i),e.x=c+r*n,e.y=l+s*i,e.scale.y=s/e.height,e.scale.x=e.scale.y}function s(e,t){o(e,t),e.x+=e.width/2,e.y+=e.height/2}function c(e){return a(e),document.getElementById(e).getBoundingClientRect().top*window.devicePixelRatio}function l(e){return a(e),document.getElementById(e).getBoundingClientRect().left*window.devicePixelRatio}function u(e){return a(e),document.getElementById(e).offsetWidth*window.devicePixelRatio}function d(e){return a(e),document.getElementById(e).offsetHeight*window.devicePixelRatio}function h(e,t){a(t);var n=document.getElementById(t),i=n.offsetWidth*window.devicePixelRatio;n.offsetHeight,window.devicePixelRatio;e.scale.x=i/e.width,e.scale.y=e.scale.x}function f(e){a(e);var t=document.getElementById(e),n=t.offsetWidth*window.devicePixelRatio,i=(t.offsetHeight,window.devicePixelRatio,t.getBoundingClientRect().left*window.devicePixelRatio);t.getBoundingClientRect().top,window.devicePixelRatio;return i+Math.random()*n}function g(e){a(e);var t=document.getElementById(e),n=(t.offsetWidth,window.devicePixelRatio,t.offsetHeight*window.devicePixelRatio);t.getBoundingClientRect().left,window.devicePixelRatio;return t.getBoundingClientRect().top*window.devicePixelRatio+Math.random()*n}function p(e){a(e);var t=document.getElementById(e),n=t.offsetWidth*window.devicePixelRatio;return t.getBoundingClientRect().left*window.devicePixelRatio+n/2}function m(e){a(e);var t=document.getElementById(e),n=t.offsetHeight*window.devicePixelRatio;return t.getBoundingClientRect().top*window.devicePixelRatio+n/2}function w(e){var t={};if(t.x=e.global.windowWidth/2,t.y=e.global.windowHeight/2,-90==e.world.angle){var n=t.x;t.x=t.y,t.y=n}return t}function v(e,t,n){var i={};if(i.x=t,i.y=n,-90==e.world.angle){var a=i.x;i.x=i.y,i.y=a}return i}Object.defineProperty(n,"__esModule",{value:!0}),n.bestFit=i,n.fitInContainer=o,n.fitInContainerHeight=r,n.fitInContainerAnchorAtCenter=s,n.getContainerY=c,n.getContainerX=l,n.getContainerWidth=u,n.getContainerHeight=d,n.resizeToSizeOfContainer=h,n.getRandomXWithinContainer=f,n.getRandomYWithinContainer=g,n.getXCenterWithinContainer=p,n.getYCenterWithinContainer=m,n.getWorldCentre=w,n.getWorldPos=v},{}],12:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if(null!=PiecSettings.pngAnimations)for(var t in PiecSettings.pngAnimations){var n=PiecSettings.pngAnimations[t];o(e,n)}}function o(e,t){var n=t.src.substr(0,t.src.indexOf("."));e.load.spritesheet(n,PiecSettings.assetsDir+t.src,t.spriteWidth,t.spriteHeight,t.spriteNumber)}function r(e,t,n){var i=PiecSettings.pngAnimations[t],a=i.src.substr(0,i.src.indexOf("."));if(null!=i.htmlContainer){var o=document.getElementById(i.htmlContainer),r=o.offsetWidth*window.devicePixelRatio;o.offsetHeight,window.devicePixelRatio,o.getBoundingClientRect().left,window.devicePixelRatio,o.getBoundingClientRect().top,window.devicePixelRatio}var s=e.add.sprite(0,0,a);if(s.animations.add("animation"),s.alpha=0,null==i.loopReverse&&(i.loopReverse=!1),null!=i.isReversed&&i.isReversed&&(s.animations.currentAnim.isReversed=!0),c.playAnimation(e,s,i.delay,i.fps,i.loopReverse,i.loops),null!=i.angle&&0!=i.angle){var l=0;this.game.global.windowWidth>this.game.global.windowHeight&&null!=i.responsiveAngle&&i.responsiveAngle&&(l=90),s.anchor.set(.5),s.angle=i.angle+l}if(void 0!==i.htmlContainer&&(s.scale.x=r/s.width,s.scale.y=s.scale.x,s.persistent=!1),void 0!==i.persistent&&(s.persistent=i.persistent),
void 0!==i.loops&&(s.numberOfLoops=i.loops,s.animations.currentAnim.onLoop.add(c.onLoop,this)),void 0!==i.effect&&-1!=i.effect.indexOf("fade-in")){s.alpha=0;e.add.tween(s).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,i.delay)}return s}Object.defineProperty(n,"__esModule",{value:!0}),n.preloadPngSequences=a,n.playPngSequence=r;var s=e("../utils/animations-util.js"),c=i(s),l=e("../utils/container-util");i(l)},{"../utils/animations-util.js":10,"../utils/container-util":11}],13:[function(e,t,n){"use strict";function i(e,t,n,i,a,o,r){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(null==e||null===e.game)return null;var c=document.getElementById(t),l=c.offsetWidth*window.devicePixelRatio,u=l*e.anchor.x,d=c.getBoundingClientRect().left*window.devicePixelRatio+u,h=l/(e.width/e.scale.x),f=c.offsetHeight*window.devicePixelRatio,g=f*e.anchor.y,p=c.getBoundingClientRect().top*window.devicePixelRatio+g;s&&e.height/e.scale.y*h>f&&(h=f/(e.height/e.scale.y));var m=e.game.add.tween(e).to({x:d,y:p},i,a,void 0===r||r,n);return e.game.add.tween(e.scale).to({x:h,y:h},i,a,void 0===r||r,n),o&&m.onComplete.add(o,this),m}function a(e,t,n,i,a,o,r,s){if(null===e||null===e.game)return null;var c=e.game.add.tween(e).to({x:t,y:n},a,o,void 0===s||s,i);return r&&c.onComplete.add(r,this),c}function o(e,t,n,i,a,o,r){if(null===e||null===e.game)return null;var s={};null!==t&&(s={alpha:t});var c=e.game.add.tween(e).to(s,0===i?1:i,a,void 0===o||o,n);return r&&c.onComplete.add(r,this),c}function r(e,t,n,i,a,o){return this.fade(e,1,t,n,i,a,o)}function s(e,t,n,i,a,o){return this.fade(e,0,t,n,i,a,o)}function c(e,t,n,i,a,o,r){if(null===e||null===e.game)return null;var s=e.game.add.tween(e.scale).to({x:t,y:n},a,o,!0,i);return r&&s.onComplete.add(r,this),s}function l(e,t,n,i,a,o){if(null===e||null===e.game)return null;var r=document.getElementById(t),s=r.getBoundingClientRect(),c=this.getScaleFromDom(t,e);this.moveTo(e,(s.left+.5*s.width)*window.devicePixelRatio,(s.top+.5*s.height)*window.devicePixelRatio,n,i,a,o),this.scaleTo(e,c,c,n,i,a)}function u(e,t){var n=document.getElementById(e),i=n.getBoundingClientRect(),a=i.width*window.devicePixelRatio/t._frame.width;return!1==t._frame.height*a<=i.height*window.devicePixelRatio&&(a=i.height*window.devicePixelRatio/t._frame.height),a}function d(e,t,n){if(null===e||null===e.game)return null;e.game.add.tween(e.scale).to({x:1.2*e.scale.x,y:1.2*e.scale.x},n,Phaser.Easing.Quadratic.InOut,!0,t,-1,!0)}function h(e,t,n){if(null===e||null===e.game)return null;var i=e.scale.x,a=e.scale.y;e.angle=0,e.scale.x=0,e.scale.y=0,e.game.add.tween(e.scale).to({x:i,y:a},n,Phaser.Easing.Quadratic.InOut,!0,t),e.game.add.tween(e).to({angle:360},n,Phaser.Easing.Back.InOut,!0,t)}function f(e,t,n,i,a){if(null===e||null===e.game)return null;n=e.scale.x*n,i=e.scale.x*i;var o=e.game.add.tween(e.scale).to({x:n,y:n},500,Phaser.Easing.Quadratic.Out,!0,0),r=e.game.add.tween(e.scale).to({x:i,y:i},500,Phaser.Easing.Quadratic.In,!1,0);o.chain(r);var s=e.game.add.tween(e).to({angle:15},500,function(e){return Math.sin(2*Math.PI*e)},!0,0,1);a&&s.onComplete.add(function(){a(e)},this)}function g(e,t,n,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e.scale.x,r=e.scale.y;e.game.add.tween(e.scale).to({x:o*(t||1.1),y:r*(n||.9)},i||800,Phaser.Easing.Linear.None,!0,delay,-1).yoyo(a,0)}function p(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments[4],o=arguments[5];t=t||10;var r=e.angle,s=r+t;e.angle-=t,null!=a&&(e.anchor.x=a),null!=o&&(e.anchor.y=o),e.game.add.tween(e).to({angle:s},n,Phaser.Easing.Linear.None,!0,i,-1).yoyo(!0,0)}function m(e,t,n,i,a){var o=e.scale.x,r=e.scale.y;e.scale.x=.001,e.scale.y=.001,"function"==typeof e.show?e.show():e.alpha=1;var s=e.game.add.tween(e.scale).to({x:o,y:r},n||800,i,!0,t||0);return a&&s.onComplete.add(function(){a(e)},this),s}function w(e,t,n,i,a){var o=e.scale.x,r=e.game.add.tween(e.scale).to({x:.001,y:.001},n||800,i,!0,t||0);return a?r.onComplete.add(function(){"function"==typeof e.hide?e.hide():e.alpha=0,e.scale.x=o,e.scale.y=o,a(e)},this):r.onComplete.add(function(){"function"==typeof e.hide?e.hide():e.alpha=0,e.scale.x=o,e.scale.y=o},this),r}function v(e,t,n,i,a){var o=.3*a;e.alpha=0;var r=e.game.add.tween(e).to({alpha:1},o,Phaser.Easing.Linear.None,!0,i||0),s=e.game.add.tween(e).to({alpha:0},o,Phaser.Easing.Linear.None,!1,a-2*o);r.chain(s),e.game.add.tween(e).to({x:t,y:n},a,Phaser.Easing.Quadratic.Out,!0,i||0)}function y(e,t,n){var i=.3*n,a=.15*n,o=e.scale.x,r=e.scale.y;e.scale.x=0,e.scale.y=0,e.game.add.tween(e.scale).to({x:o,y:r},a,Phaser.Easing.Quadratic.In,!0,t||0),e.game.add.tween(e).to({alpha:0},i,Phaser.Easing.Linear.None,!0,n-a)}function b(e,t,n,i){e.game.add.tween(e).to({angle:[-5,-5,0]},n,i,!0,t);var a=e.scale.x;return e.game.add.tween(e.scale).to({x:[.9*a,.9*a,a],y:[.9*a,.9*a,a]},n,i,!0,t)}function x(e,t,n,i,a){e.angle=t,e.game.add.tween(e).to({angle:[t+10,t+5,t-5,t-5,t]},i,a,!0,n);var o=e.scale.x;return e.game.add.tween(e.scale).to({x:[o,o,.9*o,.9*o,o],y:[o,o,.9*o,.9*o,o]},i,a,!0,n)}function P(e,t,n,i){e.game.add.tween(e).to({angle:-10},n,i,!0,t);var a=e.scale.x;return e.game.add.tween(e.scale).to({x:[1.05*a,.9*a],y:[1.05*a,.9*a]},n,i,!0,t)}function S(e,t,n,i){var a,o,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"up",c=e.y,l=e.x,u=e.scale.x,d=20,h=0;switch(s){case"up":a=.1*e.width,o=1.2*e.height*-1,h=-20,d=-10;break;case"down":a=.1*e.width,o=1.2*e.height,h=20,d=-10;break;case"left":a=1.2*e.width*-1,o=.1*e.height,h=20,d=20;break;case"right":a=1.2*e.width,o=.1*e.height,h=-20;break;case"upleft":a=1.2*e.width*-1,o=1.2*e.height*-1,h=20,d=40;break;case"upright":a=1.2*e.width,o=1.2*e.height*-1,h=-20,d=-20;break;case"downleft":a=1.2*e.width*-1,o=1.2*e.height,h=20,d=-10;break;case"downright":a=1.2*e.width,o=1.2*e.height,h=-15,d=-5}e.game.add.tween(e).to({angle:[d+h,d,d-h],y:[c,c+o/2,c+o],x:[l,l+a/2,l+a]},n,i,!0,t).onComplete.add(function(){e.game.add.tween(e).to({angle:0,x:l,y:c},r-200,i,!0,150)},this),e.game.add.tween(e.scale).to({x:[.8*u,.8*u],y:[.8*u,.8*u]},n,i,!0,t).onComplete.add(function(){e.game.add.tween(e.scale).to({x:u,y:u},150,i,!0,0)},this)}function O(e,t,n,i,a,o,r){var s=i*e.width,c=t,l=n;return e.game.add.tween(e).to({x:[c,c+s*Math.cos(Math.PI/4),c+s,c+s*Math.cos(Math.PI/4),c,c-s*Math.cos(Math.PI/4),c-s,c-s*Math.cos(Math.PI/4),c],y:[l-s,l-s*Math.sin(Math.PI/4),l,l+s*Math.sin(Math.PI/4),l+s,l+s*Math.sin(Math.PI/4),l,l-s*Math.sin(Math.PI/4),l-s],angle:[0,-50,0,50,0]},o,r,!0,a).interpolation(function(e,t){return Phaser.Math.bezierInterpolation(e,t)})}function I(e,t,n,i){var a=.5*e.height,o=e.y,r=e.x,s=e.scale.x;e.game.add.tween(e).to({angle:[10,0,-10],y:[o,o+a/2,o+a],x:[r,r+0,r+0]},n,i,!0,t).onComplete.add(function(){e.game.add.tween(e).to({angle:0,x:r,y:o},n/2,i,!0,500)},this),e.game.add.tween(e.scale).to({x:[.9*s,.9*s],y:[.9*s,.9*s]},n,i,!0,t).onComplete.add(function(){e.game.add.tween(e.scale).to({x:s,y:s},500,i,!0,0)},this)}function E(e,t,n,i){var a=2*e.height*-1;return this.slideIn(e,0,a,t,n,i)}function C(e,t,n,i){var a=2*e.height;return this.slideIn(e,0,a,t,n,i)}function R(e,t,n,i){var a=2*e.width;return this.slideIn(e,a,0,t,n,i)}function k(e,t,n,i){var a=2*e.width*-1;return this.slideIn(e,a,0,t,n,i)}function _(e,t,n,i,a,o){var r=e.x,s=e.y;return e.x+=t,e.y+=n,this.fadeIn(e,i,a/2,Phaser.Easing.Quadratic.InOut),e.game.add.tween(e).to({x:r,y:s},a,o,!0,i)}function j(e,t,n,i){var a=e.scale.x;return e.game.add.tween(e.scale).to({x:1.1*a,y:1.1*a},n,i,!0,t).loop(!0).yoyo(!0)}function M(e,t,n,i){var a=e.scale.x;return e.game.add.tween(e.scale).to({x:1.1*a,y:1.1*a},n,i,!0,t).yoyo(!0)}function B(e,t,n,i){var a=e.scale.x;return e.scale.x=1.1*a,e.scale.y=.9*a,e.game.add.tween(e.scale).to({x:a,y:a},n,i,!0,t)}Object.defineProperty(n,"__esModule",{value:!0}),n.moveToContainer=i,n.moveTo=a,n.fade=o,n.fadeIn=r,n.fadeOut=s,n.scaleTo=c,n.moveToDom=l,n.getScaleFromDom=u,n.bulge=d,n.spinIn=h,n.wobbleScaleIn=f,n.jiggle=g,n.jiggleAngle=p,n.scaleIn=m,n.scaleOut=w,n.fadeFloat=v,n.scaleThenFade=y,n.quickTap=b,n.tap=x,n.tapAndHold=P,n.swipe=S,n.circleAround=O,n.smallSwipeUpDown=I,n.slideInDown=E,n.slideInUp=C,n.slideInLeft=R,n.slideInRight=k,n.slideIn=_,n.pulse=j,n.pulseOnce=M,n.rubberBand=B},{}],14:[function(e,t,n){"use strict";function i(e,t){return t||(t=0),Math.floor(Math.random()*(e-t+1))+t}function a(e){return e[this.rndInt(e.length-1,0)]}function o(e){return e||(e=1),"rgba("+this.rndInt(256)+","+this.rndInt(256)+","+this.rndInt(256)+","+e+")"}function r(){return document.body.clientHeight>document.body.clientWidth}function s(){return r()?"portrait":"landscape"}function c(e){return JSON.parse(JSON.stringify(e))}function l(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function u(e){return-1===e.lastIndexOf(".")?e:e.substring(0,e.lastIndexOf("."))}function d(e){e.style.opacity=0;var t=+new Date;!function n(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(n)||setTimeout(n,16))}()}function h(e){return 100*Math.sqrt(2*Math.abs(e)/O)}function f(e){var t={boolean:{},number:{},string:{}},n=[];return e.filter(function(e){var i=void 0===e?"undefined":S(e);return i in t?!t[i].hasOwnProperty(e)&&(t[i][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)})}function g(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}function p(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function m(e,t){var n=document.getElementById(e),i=n.getBoundingClientRect(),a=i.width*window.devicePixelRatio/t._frame.sourceSizeW;t.scale.x=a,t.scale.y=a,!1==t._frame.sourceSizeH*a<=i.height*window.devicePixelRatio&&(a=i.height*window.devicePixelRatio/t._frame.sourceSizeH,t.scale.x=a,t.scale.y=a),t.anchor.set(.5,.5),t.x=(i.left+.5*i.width)*window.devicePixelRatio,t.y=(i.top+.5*i.height)*window.devicePixelRatio}function w(e,t,n,i){return 180*Math.atan2(i-t,n-e)/Math.PI}function v(e){switch(e){case"Linear":return Phaser.Easing.Linear.None;case"BackIn":return Phaser.Easing.Back.In;case"BackOut":return Phaser.Easing.Back.Out;case"BounceIn":return Phaser.Easing.Bounce.In;case"BounceOut":return Phaser.Easing.Bounce.Out;case"CircularIn":return Phaser.Easing.Circular.In;case"CircularOut":return Phaser.Easing.Circular.Out;case"CubicIn":return Phaser.Easing.Cubic.In;case"CubicOut":return Phaser.Easing.Cubic.Out;case"ElasticIn":return Phaser.Easing.Elastic.In;case"ElasticOut":return Phaser.Easing.Elastic.Out;case"ExponentialIn":return Phaser.Easing.Exponential.In;case"ExponentialOut":return Phaser.Easing.Exponential.Out;case"QuadraticIn":return Phaser.Easing.Quadratic.In;case"QuadraticOut":return Phaser.Easing.Quadratic.Out;case"QuarticIn":return Phaser.Easing.Quartic.In;case"QuarticOut":return Phaser.Easing.Quartic.Out;case"QuinticIn":return Phaser.Easing.Quintic.In;case"QuinticOut":return Phaser.Easing.Quintic.Out;case"SinusoidalIn":return Phaser.Easing.Sinusoidal.In;case"SinusoidalOut":return Phaser.Easing.Sinusoidal.Out}console.error('unkown easing value "'+e+'"')}function y(e,t){for(var n in t)e[n]=t[n];return e}function b(){var e;return navigator.userLanguage?(e=navigator.userLanguage,-1==e.indexOf("zh")&&(e=e.split("-")[0].toLowerCase())):navigator.language?(e=navigator.language,-1==e.indexOf("zh")&&(e=e.split("-")[0].toLowerCase())):(e="en",void 0!==PiecSettings.defaultLang&&(e=PiecSettings.defaultLang)),e=e.toLowerCase(),console.log(e),-1!==e.indexOf("zh")&&(e="zh-tw"==e||"zh-hk"==e?"zh-traditional":"zh"),e}function x(){var e=navigator.userAgent||navigator.vendor||window.opera,t=null;return/windows phone/i.test(e)&&(t="windowsPhone"),/android/i.test(e)&&(t="android"),/iPad|iPhone|iPod/.test(e)&&!window.MSStream&&(t="ios"),t}function P(){return"#"+((1<<24)*(Math.random()+1)|12632256).toString(16).substr(1)}Object.defineProperty(n,"__esModule",{value:!0});var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.rndInt=i,n.sample=a,n.rndRgba=o,n.isPortrait=r,n.getOrientation=s,n.clone=c,n.remove=l,n.removeExtension=u,n.fadeIn=d,n.calcQuadTime=h,n.uniq=f,n.extend=g,n.numberWithCommas=p,n.animToDom=m,n.getAngleBetweenTwoPoints=w,n.getEasing=v,n.JSONmerge=y,n.getDeviceLang=b,n.getDeviceOS=x,n.getRandomColor=P;var O=19.8},{}]},{},[3]);
