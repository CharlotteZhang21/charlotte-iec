!function e(t,i,n){function a(s,r){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){var i=t[s][1][e];return a(i||e)},h,h.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({coin_burst_01:[{img:"logo.png"},{img:"cta.png"}],coin_cascade_05:[{img:"logo2.png"}]},"coin_cascade_05",[{img:"spin_button.png"},{img:"symbols.png"}])},{}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={}},{}],3:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=e("./states/boot"),o=n(a),s=e("./states/endcard"),r=n(s),l=e("./states/preloader"),c=n(l),h=new Phaser.Game(window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio,Phaser.CANVAS,"game",null,!0);h.state.add("boot",new o.default),h.state.add("endcard",new r.default),h.state.add("preloader",new c.default),h.state.start("boot")},{"./states/boot":11,"./states/endcard":12,"./states/preloader":13}],4:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){function t(e){n(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.createBackground(),i}return o(t,e),s(t,[{key:"createBackground",value:function(){var e=new Phaser.Sprite(this.game,0,0,"background");this.add(e);var t=this.width;this.height;this.game.global.windowHeight>this.game.global.windowWidth?(this.scale.x=this.game.global.windowHeight*window.devicePixelRatio/this.height*1.05,this.scale.y=this.scale.x,this.game.global.windowWidth*window.devicePixelRatio>this.width&&(this.scale.x=this.game.global.windowWidth*window.devicePixelRatio/t,this.scale.y=this.scale.x),this.x=this.game.global.windowWidth*window.devicePixelRatio/2-this.width/2,this.y=this.game.global.windowHeight*window.devicePixelRatio/2-this.height/2):(this.scale.x=this.game.global.windowWidth*window.devicePixelRatio/this.width*1.1,this.scale.y=this.scale.x,this.height<this.game.global.windowHeight*window.devicePixelRatio&&(this.scale.y=this.game.global.windowHeight*window.devicePixelRatio/this.width*1.05,this.scale.x=this.scale.y),this.x=(this.game.global.windowWidth*window.devicePixelRatio-this.width)/2*.4,this.y=(this.game.global.windowHeight*window.devicePixelRatio-this.height)/2*.5),e.alpha=0,this.game.add.tween(e).to({alpha:1},100,Phaser.Easing.Linear.None,!0,100)}}]),t}(Phaser.Group);i.default=r},{}],5:[function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../utils/util"),c=n(l),h=e("../utils/container-util"),u=n(h),d=e("../utils/fx-renderer.js"),f=n(d),g=function(e){function t(e,i,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(r.containerName=n||"chair",r.container=document.getElementById(r.containerName),r.chair=new Phaser.Sprite(e,0,0,i),r.add(r.chair),r.stars=[],r.balloons=[],u.fitInContainer(r.chair,n,.5,.5),r.chair.alpha=0,r.initialScale=r.chair.scale.x,r.initialYPos=r.chair.y,r.initialWidth=r.chair.width,r.initialHeight=r.chair.height,s){var l=i.replace("_"," ");r.createTag(l)}return r.constructionGrp=new Phaser.Group(e),r}return s(t,e),r(t,[{key:"createTag",value:function(e){var t=this.containerName+"-text";u.getContainerY(t),u.getContainerHeight(t);this.fontSize=.4*this.chair.height;var i={font:"bold "+this.fontSize+"px "+PiecSettings.fontFamily};this.textField=new Phaser.Text(this.game,0,0,e,i),this.add(this.textField),this.textField.align="center",this.textField.padding.set(this.fontSize/2,0),u.fitInContainerHeight(this.textField,t,.5,.5),null!=PiecSettings.fontColor?this.textField.fill=PiecSettings.fontColor:this.textField.stroke="#ff9d1b"}},{key:"hide",value:function(e,t){var i=this.chair.scale.x,n=this.game.add.tween(this.chair.scale).to({x:[1.05*i,0],y:[1.05*i,0]},t,Phaser.Easing.Quadratic.In,!0,e);void 0!==this.textField&&this.game.add.tween(this.textField.scale).to({x:[1.05*i,0],y:[1.05*i,0]},t,Phaser.Easing.Quadratic.In,!0,e),n.onComplete.add(function(){this.chair.alpha=0},this)}},{key:"showChair",value:function(){c.display(this.game,this.chair,100)}},{key:"popUp",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.chair.scale.x=0,this.chair.scale.y=0,this.showChair();var a=this.game.add.tween(this.chair.scale).to({x:[1.2*this.initialScale,this.initialScale],y:[1.2*this.initialScale,this.initialScale]},t,Phaser.Easing.Quadratic.In,!0,2*e);i?a.onComplete.add(function(){this.shaking(n)},this):this.game.time.events.add(200,function(){this.spawnStars()},this)}},{key:"preAni",value:function(e,t){var i=new Phaser.Sprite(this.game,0,0,"construction");this.constructionGrp.add(i),u.fitInContainer(i,this.containerName,.5,.5);var n=i.scale.x,a=i.y;i.y-=100,i.alpha=0,this.game.add.tween(i).to({alpha:1,y:a},500,Phaser.Easing.Quadratic.InOut,!0,e),this.game.add.tween(i.scale).to({x:[.95*n,.95*n,1.05*n,n],y:[1.05*n,1.05*n,.95*n,n]},800,Phaser.Easing.Quadratic.InOut,!0,e).onComplete.add(function(){for(var e=[],i=[],n=1;n<=PiecSettings.workerNum;n++){var a="worker-"+n,o=f.playFx(this.game,this.constructionGrp,a);e.push(o);var s="smoke-"+n,r=f.playFx(this.game,this.constructionGrp,s);i.push(r)}this.game.time.events.add(1e3,function(){this.game.add.tween(this.constructionGrp).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0).onComplete.add(function(){this.fallingDown(0,t)},this)},this)},this)}},{key:"fallingDown",value:function(e,t){var i=this.chair.y;this.chair.y-=100,console.log(this.chair.alpha),this.game.add.tween(this.chair).to({alpha:1,y:i},t,Phaser.Easing.Quadratic.InOut,!0,e),this.game.add.tween(this.chair.scale).to({x:[.95*this.initialScale,.95*this.initialScale,1.05*this.initialScale,this.initialScale],y:[1.05*this.initialScale,1.05*this.initialScale,.95*this.initialScale,this.initialScale]},t+300,Phaser.Easing.Quadratic.InOut,!0,e),this.game.time.events.add(200,function(){this.spawnBalloon()},this)}},{key:"shaking",value:function(e){var t=this.initialScale;this.chair.scale.x=t,this.chair.scale.y=t,this.chair.idleScaleTween=this.game.add.tween(this.chair.scale).to({x:[.95*t,1.05*t,t],y:[1.05*t,.95*t,t]},450+10*e,Phaser.Easing.Quadratic.InOut,!0,0,-1),this.chair.idleScaleTween.repeatDelay(800+10*e)}},{key:"getPosition",value:function(){var e={};return e.x=this.chair.x,e.y=this.chair.y,e}},{key:"getWidth",value:function(){return this.initialWidth}},{key:"getHeight",value:function(){return this.initialHeight}},{key:"setOption",value:function(e){this.chair.optionNum=e,this.chair.inputEnabled=!0,this.chair.input.useHandCursor=!0,this.chair.events.onInputDown.add(function(t){this.chair.inputEnabled=!1,this.game.global.selection=e,this.game.onChange.dispatch()},this)}},{key:"disableOption",value:function(){this.chair.inputEnabled=!1}},{key:"getOption",value:function(){return this.chair.optionNum}},{key:"spawnStars",value:function(){for(var e=0;e<80;e++){var t=.5,i=Math.random()>.7?"spark-particle":"star-particle";"spark-particle"==i&&(t=.3);var n=new Phaser.Sprite(this.game,0,0,i);this.add(n),this.stars.push(n),n.anchor.set(.5),this.game.global.windowWidth>this.game.global.windowHeight?(n.scale.x=this.initialWidth/n.width*(.18*Math.random())*t,n.scale.y=n.scale.x):(n.scale.x=this.initialWidth/n.width*(.3*Math.random())*t,n.scale.y=n.scale.x),n.x=this.chair.x+this.initialWidth/2.5*Math.random(),n.y=this.chair.y+.45*this.initialHeight/2,n.angle=45*Math.random(),n.alpha=0;var a=n.scale.x,o=n.y,s=n.x,r=.3;this.game.global.windowWidth>this.game.global.windowHeight&&(r=.2);var l=s+this.initialWidth*r*(Math.random()>.5?1:-1),h=5;this.game.global.windowWidth>this.game.global.windowHeight&&(h=2.5);var u=o-Math.random()*this.initialHeight*h,d=a*Math.random(),f=5*e,g=1e3*Math.random()+2e3;c.starFloatWithDelayCustom2(this.game,n,l,u,d,g,f,Phaser.Easing.Quadratic.Out)}}},{key:"spawnBalloon",value:function(){for(var e=1+Math.random(),t=0;t<20;t++){var i=Math.random(),n="balloon-";i<=.25?n+="blue":i<=.5?n+="red":i<=.75?n+="green":i<=1&&(n+="yellow");var a=new Phaser.Sprite(this.game,0,0,n);this.add(a),this.balloons.push(a),a.anchor.set(.5),this.game.global.windowWidth,this.game.global.windowHeight,a.scale.x=this.initialWidth/a.width*(.3*Math.random())*e,a.scale.y=a.scale.x,a.x=this.chair.x+this.initialWidth/2.5*(.5-Math.random()),a.y=this.chair.y+.45*this.initialHeight/2,a.alpha=0;var o=a.scale.x,s=(a.y,a.x),r=.3;this.game.global.windowWidth>this.game.global.windowHeight&&(r=.2);var l=s+this.initialWidth*r*(Math.random()>.5?1:-1);this.game.global.windowWidth>this.game.global.windowHeight&&2.5;var h=o,u=100*t,d=1e3*Math.random()+3e3;c.balloonFloatWithDelayCustom(this.game,a,l,-500,h,d,u,Phaser.Easing.Quadratic.Out)}}}]),t}(Phaser.Group);i.default=g},{"../utils/container-util":15,"../utils/fx-renderer.js":17,"../utils/util":19}],6:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("../utils/fx-renderer.js"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(r),c=function(e){function t(e,i){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.fxEffectsLayer=i,o.sadCharacter(),o}return o(t,e),s(t,[{key:"sadCharacter",value:function(){this.sadAni=l.playFx(this.game,this.fxEffectsLayer,"sad")}},{key:"changeToHappy",value:function(){this.sadAni[0].visible=!1;l.playFx(this.game,this.fxEffectsLayer,"congrats")}},{key:"createDialog",value:function(){this.dialogBg=this.game.add.sprite(0,0,"dialogBg"),this.add(this.dialogBg),this.fitInContainer(this.dialogBg,"dialog")}},{key:"fitInContainer",value:function(e,t){var i=document.getElementById(t),n=i.offsetWidth*window.devicePixelRatio,a=(i.offsetHeight,window.devicePixelRatio,i.getBoundingClientRect().left*window.devicePixelRatio),o=i.getBoundingClientRect().top*window.devicePixelRatio;e.scale.x=n/e.width,e.scale.y=e.scale.x,e.x=a,e.y=o}},{key:"createText",value:function(e){var t=document.getElementById("dialog-text"),i=t.offsetWidth*window.devicePixelRatio,n=t.offsetHeight*window.devicePixelRatio;t.getBoundingClientRect().left,window.devicePixelRatio,t.getBoundingClientRect().top,window.devicePixelRatio;this.fontSize=.7*n;var a={font:"bold "+this.fontSize+"px "+PiecSettings.fontFamily};this.textField=new Phaser.Text(this.game,i/2,n/2,e,a),this.add(this.textField),this.textField.anchor.set(.5,.5),this.textField.align="center",this.textField.padding.set(this.fontSize/2,0),null!=PiecSettings.fontColor?(this.textField.stroke="black",this.textField.strokeThickness=2,this.textField.fill=PiecSettings.fontColor,this.textField.setShadow(2,3,"rgb(0,0,0)",0)):(this.textField.stroke="#ff9d1b",this.textField.strokeThickness=5)}},{key:"hide",value:function(){this.spinButton.button.inputEnabled=!1}},{key:"fade",value:function(){this.game.add.tween(this).to({alpha:0},800,Phaser.Easing.Quadratic.In,!0,0)}},{key:"show",value:function(){if(this.spinButton.button.inputEnabled=!0,this.dissapearing&&PiecSettings.spins.length!=this.game.global.spin){this.game.add.tween(this).to({y:0},300,Phaser.Easing.Quadratic.In,!0,0)}}}]),t}(Phaser.Group);i.default=c},{"../utils/fx-renderer.js":17}],7:[function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../utils/container-util"),c=n(l),h=e("../utils/auto-localisation-util"),u=n(h),d=function(e){function t(e){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.button=new Phaser.Sprite(e,0,0,"cta",0),i.add(i.button),c.fitInContainer(i.button,"cta-container",.5,.5),i.createText(),i.initialCtaWidth=i.button.width,i.button.inputEnabled=!0,i.button.input.useHandCursor=!0,i.button.events.onInputDown.add(function(){doSomething("download")}),i}return s(t,e),r(t,[{key:"createText",value:function(){c.getContainerY("cta-container-text"),c.getContainerHeight("cta-container-text");this.fontSize=.4*this.button.height;var e={font:"bold "+this.fontSize+"px "+PiecSettings.fontFamily};this.textField=new Phaser.Text(this.game,0,0,u.getLocalisedCta().text,e),this.add(this.textField),this.textField.align="center",c.bestFit(this.textField,"cta-container-text",.5,.5),this.textField.fill="#fff",this.textField.stroke="#002753",this.textField.strokeThickness=2}},{key:"animate",value:function(){var e=this.button.scale.x,t=this.textField.scale.x;this.game.add.tween(this.button.scale).to({x:1.05*e,y:1.05*e},600,Phaser.Easing.Quadratic.InOut,!0,1e3).loop().yoyo(!0,0),this.game.add.tween(this.textField.scale).to({x:1.05*t,y:1.05*t},600,Phaser.Easing.Quadratic.InOut,!0,1e3).loop().yoyo(!0,0)}}]),t}(Phaser.Group);i.default=d},{"../utils/auto-localisation-util":14,"../utils/container-util":15}],8:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=e("../utils/fx-renderer.js"),h=(a(c),e("../utils/util")),u=a(h),d=e("../utils/container-util"),f=a(d),g=e("../prefabs/chair"),p=n(g),w=e("../prefabs/tooltip"),m=n(w),y=function(e){function t(e){o(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container="dialog",i.textContainer="dialog-text",i.createDialogBg(),i}return r(t,e),l(t,[{key:"init",value:function(){this.initialWidth=this.dialogBg.width,this.initialHeight=this.dialogBg.height,this.centerX=this.dialogBg.x+this.dialogBg.width/2,this.centerY=this.dialogBg.y+this.dialogBg.height/2}},{key:"createDialogBg",value:function(){this.dialogBg=this.game.add.sprite(0,0,"dialogBg"),this.add(this.dialogBg),u.display(this.game,this.dialogBg,100),f.fitInContainer(this.dialogBg,this.container),u.isPortrait()||(this.dialogBg.scale.y*=.8),this.init(),this.createText(PiecSettings.characterText[0]),u.display(this.game,this.textField,100),this.game.time.events.add(800,function(){this.changeTextTo(PiecSettings.characterText[1],1500)},this)}},{key:"createText",value:function(e){f.getContainerHeight(this.container);this.fontSize=.25*this.initialHeight;var t={font:"bold "+this.fontSize+"px "+PiecSettings.fontFamily};this.textField=new Phaser.Text(this.game,0,0,e,t),this.add(this.textField),this.textField.align="center",f.bestFit(this.textField,this.textContainer,.5,.5),u.isPortrait()||(this.textField.x=this.centerX,this.textField.y=this.centerY,this.textField.scale.x*=1.2,this.textField.scale.y=this.textField.scale.x),null!=PiecSettings.fontColor?this.textField.fill=PiecSettings.fontColor:this.textField.stroke="#ff9d1b"}},{key:"changeTextTo",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.textField.text=""+e;var n=this.game.add.tween(this.textField.scale).to({x:[0,1.2,1],y:[0,1.2,1]},1*t/5,Phaser.Easing.Linear.None,!0,0);i&&n.onComplete.add(function(){this.game.add.tween(this.textField.scale).to({x:[1.2,0],y:[1.2,0]},1*t/5,Phaser.Easing.Linear.None,!0,1e3).onComplete.add(function(){this.createOptions()},this)},this)}},{key:"createOptions",value:function(){this.options=[];for(var e=0,t=0;t<PiecSettings.options.length;t++){var i="option"+(t+1),n=new p.default(this.game,PiecSettings.options[t],i,PiecSettings.optionsText);n.setOption(t),this.add(n),this.options.push(n),n.popUp(200*t,500,!0,t),e+=200*t}this.createTooltip()}},{key:"hideOptions",value:function(e){void 0!==this.tooltip&&this.tooltip.hide();for(var t=0,i=0;i<this.options.length;i++)this.options[i].hide(e+300*i,300),t+=300*i;this.game.time.events.add(e+t,function(){this.changeTextTo("Thank you!",2e3,!1)},this)}},{key:"createTooltip",value:function(){this.tooltip=new m.default(this.game),this.add(this.tooltip),this.tooltip.moveHandToManyItems(this.options)}}]),t}(Phaser.Group);i.default=y},{"../prefabs/chair":5,"../prefabs/tooltip":10,"../utils/container-util":15,"../utils/fx-renderer.js":17,"../utils/util":19}],9:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){function t(e){n(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.logo=i.game.add.sprite(0,0,"logo"),i.add(i.logo),i.logo.anchor.set(.5),i.logo.alpha=0,i.fitInContainer(),i}return o(t,e),s(t,[{key:"fitInContainer",value:function(){this.container=document.getElementById("logo");var e=this.container.offsetWidth*window.devicePixelRatio,t=this.container.offsetHeight*window.devicePixelRatio,i=this.container.getBoundingClientRect().left*window.devicePixelRatio,n=this.container.getBoundingClientRect().top*window.devicePixelRatio;this.initialLogoWidth=this.logo.width,this.logo.scale.x=e/this.initialLogoWidth,this.logo.scale.y=this.logo.scale.x,this.logo.x=i+e/2,this.logo.y=n+t/2,this.game.add.tween(this.logo).to({alpha:1},500,Phaser.Easing.Linear.None,!0,0)}},{key:"animate",value:function(){var e=document.getElementById("logo-final"),t=e.offsetWidth*window.devicePixelRatio,i=e.offsetHeight*window.devicePixelRatio,n=e.getBoundingClientRect().left*window.devicePixelRatio+t/2,a=e.getBoundingClientRect().top*window.devicePixelRatio+i/2,o=t/this.initialLogoWidth;this.game.add.tween(this.logo).to({x:n,y:a},1e3,Phaser.Easing.Quadratic.InOut,!0,0),this.game.add.tween(this.logo.scale).to({x:o,y:o},1e3,Phaser.Easing.Quadratic.InOut,!0,0),this.game.add.tween(this.logo).to({angle:360},1e3,Phaser.Easing.Back.InOut,!0,0)}}]),t}(Phaser.Group);i.default=r},{}],10:[function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../utils/util"),c=n(l),h=e("../utils/container-util"),u=n(h),d=function(e){function t(e){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.hand=new Phaser.Sprite(i.game,0,0,"hand"),u.fitInContainer(i.hand,"hand"),i.add(i.hand),i.hand.anchor.set(.5),i.hand.alpha=0,i}return s(t,e),r(t,[{key:"moveHandToItem",value:function(e){c.display(this.game,this.hand,1e3),this.hand.y=e.getPosition().y+e.getHeight()/2.8;var t=this.game.add.tween(this.hand).to({x:e.getPosition().x+e.getWidth()/2},1e3,Phaser.Easing.Quadratic.InOut,!0);this.game.add.tween(this.hand).to({angle:[-15,0]},300,Phaser.Easing.Quadratic.InOut,!0,0,500,-1).yoyo(!0,100),t.onComplete.add(function(){this.game.add.tween(this.hand).to({alpha:0},500,Phaser.Easing.Linear.None,!0,1e3)},this)}},{key:"moveHandToManyItems",value:function(e){c.display(this.game,this.hand,800);this.hand.angle=-45;for(var t=0;t<e.length;t++){var i=e[t].getPosition().x+.5*e[t].getWidth(),n=e[t].getPosition().y+.5*e[t].getHeight(),a=this.game.add.tween(this.hand).to({x:i,y:n},800,Phaser.Easing.Quadratic.InOut,!0,1300*t);this.hand.x=i,this.hand.y=n,a.onComplete.add(function(){this.game.add.tween(this.hand).to({angle:[-35,-40,-50,-50,-45]},500,Phaser.Easing.Quadratic.InOut,!0,100)},this)}this.game.time.events.add(1300*e.length,function(){this.hide()},this)}},{key:"hide",value:function(){0!=this.hand.alpha&&this.game.add.tween(this.hand).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0)}}]),t}(Phaser.Group);i.default=d},{"../utils/container-util":15,"../utils/util":19}],11:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"preload",value:function(){}},{key:"init",value:function(){PiecSettings.assetsDir="dev"===PiecSettings.env?"assets/":"";var e=this.game;e.onGameComplete=new Phaser.Signal,e.onCompleteLevel=new Phaser.Signal,e.onChange=new Phaser.Signal,e.onReelSpinComplete=new Phaser.Signal,e.onSpinComplete=new Phaser.Signal,"undefined"!=typeof piec&&(piec.lockGame=function(){e.global.locked=!0},piec.unlockGame=function(){e.global.locked=!1},piec.completeLevel=function(){e.onCompleteLevel.dispatch()},piec.destroyGame=function(){e.destroy()},piec.spin=function(){e.onSpin.dispatch()}),window.onresize=function(){e.scale.setGameSize(document.body.clientWidth*window.devicePixelRatio,document.body.clientHeight*window.devicePixelRatio),e.scale.refresh(),e.state.start("boot",!0,!1)}}},{key:"create",value:function(){this.init(),this.game.input.maxPointers=1,this.initGlobalVariables(),this.game.state.start("preloader"),this.game.onMoveStart=function(e){e.global.interactions++,PiecSettings&&PiecSettings.onMoveStart&&PiecSettings.onMoveStart(e.global.interactions)},this.game.onMoveComplete=function(e){PiecSettings&&PiecSettings.onMoveComplete&&PiecSettings.onMoveComplete(e.global.moveStats)}}},{key:"initGlobalVariables",value:function(){this.game.global={selection:0,isComplete:!1}}}]),t}(Phaser.State);i.default=r},{}],12:[function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=e("../prefabs/logo"),h=a(c),u=e("../prefabs/cta-button"),d=a(u),f=e("../prefabs/character"),g=a(f),p=e("../prefabs/dialog"),w=a(p),m=e("../prefabs/chair"),y=a(m),b=e("../prefabs/background"),v=a(b),x=e("../utils/fx-renderer"),P=(n(x),e("../utils/container-util")),O=n(P),k=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),l(t,[{key:"create",value:function(){this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.setUserScale(1/window.devicePixelRatio,1/window.devicePixelRatio,0,0),this.game.global.windowWidth=document.body.clientWidth,this.game.global.windowHeight=document.body.clientHeight,this.background=new v.default(this.game),this.game.add.existing(this.background),this.currentChair=new y.default(this.game,"empty-space","chair"),this.game.add.existing(this.currentChair),this.currentChair.showChair(),this.options=[];for(var e=0;e<PiecSettings.options.length;e++){var t=new y.default(this.game,PiecSettings.options[e],"chair");this.game.add.existing(t),this.options.push(t)}this.dialogBox=new w.default(this.game),this.game.add.existing(this.dialogBox),this.logo=new h.default(this.game),this.game.add.existing(this.logo),this.game.global.windowWidth<this.game.global.windowHeight&&(this.logo.alpha=0),this.fxEffectsLayer=this.game.add.group(),this.character=new g.default(this.game,this.fxEffectsLayer),this.game.add.existing(this.character),this.winMessage=this.game.add.sprite(0,0,"win-message"),O.fitInContainer(this.winMessage,"win-message",.5,.5),this.winMessage.initialScale=this.winMessage.scale.x,this.winMessage.scale.x=0,this.cta=new d.default(this.game),this.game.add.existing(this.cta),this.game.onChange.add(this.onChange,this),this.game.onGameComplete.add(this.onChangeComplete,this),this.game.time.events.add(PiecSettings.timer,function(){document.getElementById("vungle-close").className="visible"},this)}},{key:"render",value:function(){}},{key:"onChange",value:function(){document.getElementById("vungle-close").className="visible";for(var e=0;e<this.options.length;e++)this.options[e].disableOption();var t=this.options[this.game.global.selection];this.currentChair.hide(0,300);t.preAni(500,500),t.alpha=1,this.dialogBox.hideOptions(500),this.game.time.events.add(2e3,function(){this.game.add.tween(this.winMessage.scale).to({x:[1.05*this.winMessage.initialScale,this.winMessage.initialScale]},500,Phaser.Easing.Quadratic.InOut,!0,1e3),this.character.changeToHappy()},this),this.game.time.events.add(1e3,function(){this.game.add.tween(this.dialogBox).to({y:-100,alpha:0},500,Phaser.Easing.Back.In,!0,800)},this),this.game.time.events.add(2e3,function(){this.game.onGameComplete.dispatch()},this)}},{key:"onChangeComplete",value:function(){this.game.time.events.add(1e3,function(){this.logo.alpha=1,
this.logo.animate(),this.cta.animate(),PiecSettings.ASOI&&setTimeout(function(){doSomething("download")},3e3)},this)}},{key:"onLoop",value:function(){console.log("looping")}}]),t}(Phaser.State);i.default=k},{"../prefabs/background":4,"../prefabs/chair":5,"../prefabs/character":6,"../prefabs/cta-button":7,"../prefabs/dialog":8,"../prefabs/logo":9,"../utils/container-util":15,"../utils/fx-renderer":17}],13:[function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../atlas/index"),c=n(l),h=e("../utils/util"),u=n(h),d=e("../animations.js"),f=(n(d),e("../utils/fx-renderer.js")),g=n(f),p=e("../utils/custom-png-sequences-renderer.js"),w=(n(p),e("../utils/win-messages-util.js")),m=n(w),y=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.asset=null,e}return s(t,e),r(t,[{key:"preload",value:function(){this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources(),g.preloadFx(this.game),m.preloadWinMessages(this.game)}},{key:"update",value:function(){}},{key:"loadResources",value:function(){this.game.load.image("logo",PiecSettings.assetsDir+"logo.png"),this.game.load.image("background",PiecSettings.assetsDir+"bg.jpg"),this.game.load.image("cta",PiecSettings.assetsDir+"cta.png"),this.game.load.image("win-message",PiecSettings.assetsDir+"win-message.png"),this.game.load.image("empty-space",PiecSettings.assetsDir+"empty-space.png"),this.game.load.image("construction",PiecSettings.assetsDir+"construction.png"),this.game.load.image("balloon-yellow",PiecSettings.assetsDir+"balloon-yellow.png"),this.game.load.image("balloon-red",PiecSettings.assetsDir+"balloon-red.png"),this.game.load.image("balloon-blue",PiecSettings.assetsDir+"balloon-blue.png"),this.game.load.image("balloon-green",PiecSettings.assetsDir+"balloon-green.png");for(var e=0;e<PiecSettings.options.length;e++)this.game.load.image(PiecSettings.options[e],PiecSettings.assetsDir+PiecSettings.options[e]+".png");this.game.load.image("dialogBg",PiecSettings.assetsDir+"box_bg.png"),this.game.load.image("hand",PiecSettings.assetsDir+"hand.png"),this.game.load.image("spark-particle",PiecSettings.assetsDir+"spark-particle.png"),this.game.load.image("star-particle",PiecSettings.assetsDir+"star-particle.png"),this.game.global.animations={},PiecSettings.animation=PiecSettings.animation||{};var t={frameRate:60,scale:1};for(var i in c.default)c.default.hasOwnProperty(i)&&(this.game.load.atlasJSONHash(i,PiecSettings.assetsDir+i+".png",null,c.default[i]),this.game.global.animations[i]=u.extend(t,PiecSettings.animation[i]||{}))}},{key:"onLoadComplete",value:function(){this.game.state.start("endcard")}}]),t}(Phaser.State);i.default=y},{"../animations.js":1,"../atlas/index":2,"../utils/custom-png-sequences-renderer.js":16,"../utils/fx-renderer.js":17,"../utils/util":19,"../utils/win-messages-util.js":20}],14:[function(e,t,i){"use strict";function n(){var e;return navigator.userLanguage?(e=navigator.userLanguage,e=e.split("-")[0]):navigator.language?(e=navigator.language,e=e.split("-")[0]):e="en",e}function a(){null==s&&(s=n());var e;switch(s){case"ja":e="logo-JA.png";break;case"ko":e="logo-KO.png";break;case"zh":e="logo-CN.png";break;default:e="logo-EN.png"}return e}function o(){null==s&&(s=n());var e="PLAY NOW",t=PiecSettings.fontFamily;switch(s){case"en":e="PLAY NOW";break;case"ja":e="ダウンロード",t="asian";break;case"ko":e="다운로드",t="asian";break;case"zh":e="立即下载",t="asian";break;case"ru":e="Скачать",t="asian";break;case"de":e="Herunterladen";break;case"fr":e="Télécharger";break;case"it":e="Scarica";break;case"es":e="Descargar";break;case"pt":e="Baixar";break;case"ca":e="Descarregar";break;case"tr":e="Indir";break;case"nl":e="PLAY NOW";break;case"sv":e="Ladda ner";break;case"id":e="PLAY NOW";break;case"ro":e="Descărcare";break;case"ar":e="تحميل";break;case"uk":e="скачати";break;case"no":case"nb":case"nn":e="Nedlasting";break;case"he":e="הורד";break;case"ms":e="ഡൗൺലോഡ്";break;case"th":e="ดาวน์โหลด";break;case"pl":e="Pobierz";break;case"be":e="спампаваць";break;case"el":e="κατεβάστε";break;case"bg":e="изтегляне";break;case"da":e="Hent";break;case"sr":e="довнлоад";break;case"kk":e="жүктеу";break;case"vi":e="Tải về",t="asian";break;case"hr":e="zbirka";break;case"km":e="ទាញយក";break;case"sq":e="Shkarko";break;case"sl":e="prenesi";break;case"lt":e="parsisiųsti";break;case"az":e="yükləyin";break;case"zu":e="ukulanda";break;case"ga":e="íoslódáil";break;case"is":e="sækja";break;case"hu":e="Letöltés";break;case"lv":e="lejupielādēt";break;case"ka":e="ჩამოტვირთვა";break;case"mt":e="niżżel";break;case"et":e="lae alla";break;case"ne":e="डाउनलोड";break;case"bn":e="ডাউনলোড";break;case"eu":e="deskargatu";break;case"fi":e="ladata"}return{text:e,font:t,lang:s}}Object.defineProperty(i,"__esModule",{value:!0}),i.getLocalisedLogo=a,i.getLocalisedCta=o;var s=null},{}],15:[function(e,t,i){"use strict";function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=document.getElementById(t),o=a.offsetWidth*window.devicePixelRatio,s=a.offsetHeight*window.devicePixelRatio,r=a.getBoundingClientRect().left*window.devicePixelRatio,l=a.getBoundingClientRect().top*window.devicePixelRatio;void 0!==e.anchor&&(e.anchor.x=i,e.anchor.y=n),e.x=r+o*i,e.y=l+s*n;var c=e.scale.x;e.scale.x=o/(e.width/e.scale.x),e.scale.y=e.scale.x,e.height>s&&(e.scale.x=c,e.scale.y=c,e.scale.y=s/(e.height/e.scale.y),e.scale.x=e.scale.y)}function a(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=document.getElementById(t),o=a.offsetWidth*window.devicePixelRatio,s=a.offsetHeight*window.devicePixelRatio,r=a.getBoundingClientRect().left*window.devicePixelRatio,l=a.getBoundingClientRect().top*window.devicePixelRatio;void 0!==e.anchor&&(e.anchor.x=i,e.anchor.y=n),e.x=r+o*i,e.y=l+s*n,e.scale.x=o/(e.width/e.scale.x),e.scale.y=e.scale.x}function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=document.getElementById(t),o=a.offsetWidth*window.devicePixelRatio,s=a.offsetHeight*window.devicePixelRatio,r=a.getBoundingClientRect().left*window.devicePixelRatio,l=a.getBoundingClientRect().top*window.devicePixelRatio;void 0!=e.anchor&&e.anchor.set(i,n),e.x=r+o*i,e.y=l+s*n,e.scale.y=s/e.height,e.scale.x=e.scale.y}function s(e,t){a(e,t),e.x+=e.width/2,e.y+=e.height/2}function r(e){return document.getElementById(e).getBoundingClientRect().top*window.devicePixelRatio}function l(e){return document.getElementById(e).getBoundingClientRect().left*window.devicePixelRatio}function c(e){return document.getElementById(e).offsetWidth*window.devicePixelRatio}function h(e){return document.getElementById(e).offsetHeight*window.devicePixelRatio}function u(e,t){var i=document.getElementById(t),n=i.offsetWidth*window.devicePixelRatio;i.offsetHeight,window.devicePixelRatio;e.scale.x=n/e.width,e.scale.y=e.scale.x}function d(e){var t=document.getElementById(e),i=t.offsetWidth*window.devicePixelRatio,n=(t.offsetHeight,window.devicePixelRatio,t.getBoundingClientRect().left*window.devicePixelRatio);t.getBoundingClientRect().top,window.devicePixelRatio;return n+Math.random()*i}function f(e){var t=document.getElementById(e),i=(t.offsetWidth,window.devicePixelRatio,t.offsetHeight*window.devicePixelRatio);t.getBoundingClientRect().left,window.devicePixelRatio;return t.getBoundingClientRect().top*window.devicePixelRatio+Math.random()*i}function g(e){var t=document.getElementById(e),i=t.offsetWidth*window.devicePixelRatio;return t.getBoundingClientRect().left*window.devicePixelRatio+i/2}function p(e){var t=document.getElementById(e),i=t.offsetHeight*window.devicePixelRatio;return t.getBoundingClientRect().top*window.devicePixelRatio+i/2}function w(e,t,i,n,a,o,s){if(null==e||null===e.game)return null;var r=document.getElementById(t),l=r.offsetWidth*window.devicePixelRatio,c=l*e.anchor.x,h=r.getBoundingClientRect().left*window.devicePixelRatio+c,u=l/(e.width/e.scale.x),d=r.offsetHeight*window.devicePixelRatio,f=d*e.anchor.y,g=r.getBoundingClientRect().top*window.devicePixelRatio+f,p=e.game.add.tween(e).to({x:h,y:g},n,a,void 0===s||s,i);return e.game.add.tween(e.scale).to({x:u,y:u},n,a,void 0===s||s,i),o&&p.onComplete.add(o,this),p}Object.defineProperty(i,"__esModule",{value:!0}),i.bestFit=n,i.fitInContainer=a,i.fitInContainerHeight=o,i.fitInContainerAnchorAtCenter=s,i.getContainerY=r,i.getContainerX=l,i.getContainerWidth=c,i.getContainerHeight=h,i.resizeToSizeOfContainer=u,i.getRandomXWithinContainer=d,i.getRandomYWithinContainer=f,i.getXCenterWithinContainer=g,i.getYCenterWithinContainer=p,i.moveToContainer=w},{}],16:[function(e,t,i){"use strict";function n(e){for(var t=0;t<PiecSettings.spins.length;t++)if(null!=PiecSettings.spins[t].pngSequence){var i=PiecSettings.spins[t].pngSequence;console.log(i);var n=i.src.substr(0,i.src.indexOf("."));e.load.spritesheet(n,PiecSettings.assetsDir+i.src,i.spriteWidth,i.spriteHeight,i.spriteNumber)}}function a(e,t,i){var n=t.src.substr(0,t.src.indexOf(".")),a=document.getElementById(t.htmlContainer),o=a.offsetWidth*window.devicePixelRatio,r=(a.offsetHeight,window.devicePixelRatio,a.getBoundingClientRect().left*window.devicePixelRatio),l=a.getBoundingClientRect().top*window.devicePixelRatio,c=e.add.sprite(r,l,n);if(i.add(c),c.animations.add("animation"),c.anchor.set(0,0),c.alpha=0,s.playAnimation(e,c,t.delay,t.fps),c.scale.x=o/c.width,c.scale.y=c.scale.x,c.persistent=!1,null!=t.loops&&(c.numberOfLoops=t.loops,c.animations.currentAnim.onLoop.add(s.onLoop,this)),null!=t.effect&&-1!=t.effect.indexOf("fade-in")){c.alpha=0;e.add.tween(c).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,t.delay)}return c}Object.defineProperty(i,"__esModule",{value:!0}),i.preloadPngSequences=n,i.playPngSequence=a;var o=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(o)},{"../utils/slot-animations-util.js":18}],17:[function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e){var t=PiecSettings.animation;for(var i in t)t.hasOwnProperty(i)&&s(e,t[i])}function o(e,t,i){return r(e,t,PiecSettings.animation[i])}function s(e,t){var i=t.src;e.load.spritesheet(i,PiecSettings.assetsDir+i+".png",t.width,t.height,t.totalNum)}function r(e,t,i){var n=i.container,a=i.delay||0,o=i.loop||null,s=i.speed||10,r=i.persistent||!1;return h.playAnimations(i.src,a,o,s,r,n,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preloadFx=a,i.playFx=o;var l=e("../utils/util"),c=(n(l),e("../utils/slot-animations-util.js")),h=n(c)},{"../utils/slot-animations-util.js":18,"../utils/util":19}],18:[function(e,t,i){"use strict";function n(e,t){0!=t.loopCount&&t.loopCount===e.numberOfLoops&&(e.persistent||(t.loop=!1,e.alpha=0))}function a(e,t,i,n){e.time.events.add(i,function(){t.alpha=1,t.animations.play("animation",n,!t.persistent)})}function o(e,t,i,o,s,l,c,h){var u=[],d=c.add.sprite(0,0,e);return h.add(d),d.animations.add("animation"),d.persistent=s,a(c,d,t,o),r.fitInContainer(d,l,.5,.5),u.push(d),null!=i&&(d.numberOfLoops=i,d.animations.currentAnim.onLoop.add(n,this)),u}Object.defineProperty(i,"__esModule",{value:!0}),i.onLoop=n,i.playAnimation=a,i.playAnimations=o;var s=e("../utils/container-util"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(s)},{"../utils/container-util":15}],19:[function(e,t,i){"use strict";function n(e,t){return t||(t=0),Math.floor(Math.random()*(e-t+1))+t}function a(e){return e[this.rndInt(e.length-1,0)]}function o(e){return e||(e=1),"rgba("+this.rndInt(256)+","+this.rndInt(256)+","+this.rndInt(256)+","+e+")"}function s(){return window.innerHeight>window.innerWidth}function r(e){return JSON.parse(JSON.stringify(e))}function l(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}function c(e){return-1===e.lastIndexOf(".")?e:e.substring(0,e.lastIndexOf("."))}function h(e){e.style.opacity=0;var t=+new Date;!function i(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}function u(e){return 100*Math.sqrt(2*Math.abs(e)/b)}function d(e){var t={boolean:{},number:{},string:{}},i=[];return e.filter(function(e){var n=void 0===e?"undefined":y(e);return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)})}function f(e,t){var i,n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function g(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function p(e,t,i){t.alpha=0,e.add.tween(t).to({alpha:1},i,Phaser.Easing.Linear.None,!0,50)}function w(e,t,i,n,a,o,s,r){e.time.events.add(s,function(){t.alpha=1,e.add.tween(t).to({y:n,x:i},o,r,!0,0),e.add.tween(t.scale).to({x:a,y:a},o,r,!0,0)},this),e.time.events.add(s+1e3,function(){e.add.tween(t).to({alpha:0},1e3,Phaser.Easing.Quadratic.InOut,!0,0),e.time.events.add(1e3,function(){t.destroy()},this)},this)}function m(e,t,i,n,a,o,s,r){t.scale.x=0,t.scale.y=0,e.time.events.add(s,function(){t.alpha=1,e.add.tween(t).to({y:n,x:i},o,r,!0,0),e.add.tween(t.scale).to({x:a,y:a},o,r,!0,0)},this),e.time.events.add(s+1e3,function(){e.add.tween(t).to({alpha:0},1e3,Phaser.Easing.Quadratic.InOut,!0,0),e.time.events.add(1e3,function(){t.destroy()},this)},this)}Object.defineProperty(i,"__esModule",{value:!0});var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.rndInt=n,i.sample=a,i.rndRgba=o,i.isPortrait=s,i.clone=r,i.remove=l,i.removeExtension=c,i.fadeIn=h,i.calcQuadTime=u,i.uniq=d,i.extend=f,i.numberWithCommas=g,i.display=p,i.starFloatWithDelayCustom2=w,i.balloonFloatWithDelayCustom=m;var b=19.8},{}],20:[function(e,t,i){"use strict";function n(e){}function a(e,t,i){}Object.defineProperty(i,"__esModule",{value:!0}),i.preloadWinMessages=n,i.playWinMessage=a},{}]},{},[3]);
